<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Value Proposition Design | Fast Track Program</title>

  <!-- React & ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jsPDF + html2canvas for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    /* Font Face Declarations */
    @font-face {
      font-family: 'Plaak';
      src: url('Plaak3Trial-43-Bold.otf') format('opentype');
      font-weight: bold;
      font-style: normal;
    }

    @font-face {
      font-family: 'Riforma';
      src: url('RiformaLL-Regular.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Monument';
      src: url('MonumentGrotesk-Mono.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
    }

    /* Global Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Riforma', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .plaak {
      font-family: 'Plaak', sans-serif;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: -0.02em;
    }

    .riforma-bold {
      font-family: 'Riforma', sans-serif;
      font-weight: bold;
    }

    .monument {
      font-family: 'Monument', monospace;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Animations */
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-in {
      animation: slideIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-out;
    }

    .transition-animate-in {
      animation: slideIn 0.6s ease-out;
    }

    /* Button Styles */
    .btn-primary {
      background: #000000;
      color: #FFFFFF;
      padding: 16px 32px;
      border: 2px solid #000000;
      font-size: 18px;
      font-family: 'Riforma', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: normal;
    }

    .btn-primary:hover:not(:disabled) {
      transform: scale(1.02);
    }

    .btn-primary:disabled {
      background: #E0E0E0;
      border-color: #E0E0E0;
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #FFFFFF;
      color: #000000;
      padding: 12px 24px;
      border: 2px solid #000000;
      font-size: 16px;
      font-family: 'Riforma', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-secondary:hover {
      background: #F8F8F8;
    }

    /* Form Styles */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    textarea,
    select {
      border: 1px solid #E0E0E0;
      padding: 12px 16px;
      font-size: 18px;
      font-family: 'Riforma', sans-serif;
      width: 100%;
      transition: border-color 0.2s ease;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #000000;
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    textarea::placeholder {
      white-space: pre-line;
    }

    /* Numbered Section Badge */
    .numbered-section {
      background: #000000;
      color: #FFFFFF;
      padding: 10px 16px;
      font-family: 'Plaak', sans-serif;
      font-size: 26px;
      display: inline-block;
      text-transform: uppercase;
      letter-spacing: -0.02em;
    }

    /* Help Button */
    .help-button {
      position: fixed;
      top: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #000000;
      color: #FFFFFF;
      font-size: 28px;
      border: none;
      cursor: pointer;
      z-index: 40;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Riforma', sans-serif;
    }

    .help-button:hover {
      background: #FFF469;
      color: #000000;
      transform: scale(1.1);
    }

    /* Progress Indicator */
    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #E0E0E0;
      transition: all 0.3s ease;
    }

    .progress-dot.active {
      background: #000000;
      transform: scale(1.3);
    }

    .progress-dot.completed {
      background: #000000;
    }

    .progress-line {
      height: 2px;
      background: #E0E0E0;
      flex: 1;
    }

    /* Print Styles */
    @media print {
      .no-print {
        display: none !important;
      }
    }

    /* Character Counter */
    .char-counter {
      font-size: 14px;
      color: #666;
      margin-top: 4px;
    }

    .char-counter.invalid {
      color: #EF4444;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, Fragment } = React;

    // Main App Component
    function ValuePropApp() {
      const [step, setStep] = useState(0);
      const [showHelp, setShowHelp] = useState(false);
      const [showTransition, setShowTransition] = useState(false);
      const [transitionMessage, setTransitionMessage] = useState('');
      const [transitionProgress, setTransitionProgress] = useState(0);

      const [data, setData] = useState({
        // User details
        name: '',
        email: '',
        company: '',
        role: '',

        // Step 1: Customer Pain & Gain Analysis
        targetSegment: '',
        biggestPain: '',
        painEvidence: '',
        currentSolutions: '',
        ahaMoment: '',
        desiredOutcome: '',

        // Step 2: Competitive Analysis
        competitors: [
          { name: '', strength: '', weakness: '', differentiation: '' }
        ],
        uniqueValue: '',
        whySwitchToUs: '',

        // Step 3: Value Proposition Crafting
        valuePropTargetSegment: '',
        valuePropPainPoint: '',
        valuePropSolution: '',
        valuePropCoreBenefit: '',
        valuePropCompetitorWeakness: '',
        fullValueProp: '',

        // Step 4: Validation Checklist
        validation: {
          painkiller: '',
          differentiated: '',
          highValue: '',
          hardToCopy: '',
          notPriceOnly: '',
          crystalClear: '',
          customerNeedsBased: '',
          decisionFilter: ''
        },
        testingPlan: '',
        refinementNotes: ''
      });

      // Auto-save
      useEffect(() => {
        const interval = setInterval(() => {
          localStorage.setItem('valuePropData', JSON.stringify({
            data,
            timestamp: new Date().toISOString()
          }));
        }, 2000);

        return () => clearInterval(interval);
      }, [data]);

      // Load saved data
      useEffect(() => {
        const saved = localStorage.getItem('valuePropData');
        if (saved) {
          try {
            const parsed = JSON.parse(saved);
            if (parsed.data) {
              setData(parsed.data);
            }
          } catch (e) {
            console.error('Failed to parse saved data');
          }
        }
      }, []);

      const updateData = (field, value) => {
        setData(prev => ({ ...prev, [field]: value }));
      };

      const updateValidation = (field, value) => {
        setData(prev => ({
          ...prev,
          validation: { ...prev.validation, [field]: value }
        }));
      };

      // Competitor management
      const addCompetitor = () => {
        setData(prev => ({
          ...prev,
          competitors: [...prev.competitors, { name: '', strength: '', weakness: '', differentiation: '' }]
        }));
      };

      const removeCompetitor = (index) => {
        if (data.competitors.length > 1) {
          setData(prev => ({
            ...prev,
            competitors: prev.competitors.filter((_, i) => i !== index)
          }));
        }
      };

      const updateCompetitor = (index, field, value) => {
        setData(prev => ({
          ...prev,
          competitors: prev.competitors.map((c, i) =>
            i === index ? { ...c, [field]: value } : c
          )
        }));
      };

      // Auto-generate full value proposition
      useEffect(() => {
        if (data.valuePropTargetSegment && data.valuePropPainPoint && data.valuePropSolution && data.valuePropCoreBenefit) {
          const vp = `For ${data.valuePropTargetSegment} who struggle with ${data.valuePropPainPoint}, we provide ${data.valuePropSolution} that ${data.valuePropCoreBenefit}${data.valuePropCompetitorWeakness ? `, unlike ${data.valuePropCompetitorWeakness}` : ''}.`;
          setData(prev => ({ ...prev, fullValueProp: vp }));
        }
      }, [data.valuePropTargetSegment, data.valuePropPainPoint, data.valuePropSolution, data.valuePropCoreBenefit, data.valuePropCompetitorWeakness]);

      const goNext = () => {
        if (step === 0.5) {
          setStep(1);
        } else if (step >= 1 && step < 4) {
          const messages = ['25% COMPLETE', '50% COMPLETE', '75% COMPLETE', '100% COMPLETE'];
          const progressValues = [25, 50, 75, 100];

          setTransitionMessage(messages[step - 1]);
          setTransitionProgress(progressValues[step - 1]);
          setShowTransition(true);

          setTimeout(() => {
            setShowTransition(false);
            setStep(step + 1);
          }, 2000);
        } else if (step === 4) {
          setTransitionMessage('100% COMPLETE');
          setTransitionProgress(100);
          setShowTransition(true);

          setTimeout(() => {
            setShowTransition(false);
            setStep(5);
          }, 2000);
        } else if (step === 0) {
          setStep(0.5);
        }
      };

      const goBack = () => {
        if (step === 5) {
          setStep(4);
        } else if (step > 1) {
          setStep(step - 1);
        } else if (step === 1) {
          setStep(0.5);
        }
      };

      // Validation functions
      const canProceedFromIntro = () => {
        return data.name.length > 0 && data.email.length > 0 && data.company.length > 0;
      };

      const canProceedFromStep1 = () => {
        return data.targetSegment.length >= 30 &&
               data.biggestPain.length >= 50 &&
               data.ahaMoment.length >= 30;
      };

      const canProceedFromStep2 = () => {
        return data.competitors.every(c => c.name.length >= 3 && c.weakness.length >= 20) &&
               data.uniqueValue.length >= 50;
      };

      const canProceedFromStep3 = () => {
        return data.valuePropTargetSegment.length >= 10 &&
               data.valuePropPainPoint.length >= 15 &&
               data.valuePropSolution.length >= 15 &&
               data.valuePropCoreBenefit.length >= 15 &&
               data.fullValueProp.length >= 30;
      };

      const canProceedFromStep4 = () => {
        const validations = Object.values(data.validation);
        return validations.filter(v => v === 'yes').length >= 6;
      };

      const exportPDF = async () => {
        try {
          console.log('Starting PDF export...');

          // Check if libraries are loaded
          if (!window.jspdf) {
            alert('PDF library not loaded. Please refresh the page and try again.');
            return;
          }
          if (!window.html2canvas) {
            alert('Canvas library not loaded. Please refresh the page and try again.');
            return;
          }

          const { jsPDF } = window.jspdf;
          const pdf = new jsPDF('p', 'mm', 'a4');

          const canvas = document.getElementById('canvas-content');
          if (!canvas) {
            alert('Canvas element not found. Please make sure you are on the summary page.');
            return;
          }

          // Temporarily hide images to avoid CORS issues
          const images = canvas.querySelectorAll('img');
          const imageStates = [];
          images.forEach(img => {
            imageStates.push({ img, display: img.style.display });
            img.style.display = 'none';
          });

          console.log('Generating PDF...');
          const canvasImage = await html2canvas(canvas, {
            scale: 2,
            logging: false,
            allowTaint: false,
            useCORS: false
          });

          // Restore images
          imageStates.forEach(({ img, display }) => {
            img.style.display = display;
          });

          const imgData = canvasImage.toDataURL('image/png');
          const imgWidth = 190;
          const imgHeight = (canvasImage.height * imgWidth) / canvasImage.width;

          pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);

          const filename = `Value-Proposition-${new Date().toISOString().split('T')[0]}.pdf`;
          pdf.save(filename);

          console.log('PDF exported successfully!');
        } catch (error) {
          console.error('PDF Export Error:', error);
          alert('Failed to export PDF: ' + error.message);
        }
      };

      const handleSubmit = async () => {
        alert('Value proposition submitted successfully! (Demo mode)');
      };

      // Render different pages based on step
      if (showTransition) {
        return <TransitionScreen message={transitionMessage} progress={transitionProgress} />;
      }

      if (step === 0) {
        return <CoverPage onStart={goNext} />;
      }

      if (step === 0.5) {
        return <IntroPage data={data} updateData={updateData} onNext={goNext} canProceed={canProceedFromIntro()} />;
      }

      if (step === 1) {
        return (
          <Fragment>
            <Step1Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep1()}
              setShowHelp={setShowHelp}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={1} />}
          </Fragment>
        );
      }

      if (step === 2) {
        return (
          <Fragment>
            <Step2Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep2()}
              setShowHelp={setShowHelp}
              addCompetitor={addCompetitor}
              removeCompetitor={removeCompetitor}
              updateCompetitor={updateCompetitor}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={2} />}
          </Fragment>
        );
      }

      if (step === 3) {
        return (
          <Fragment>
            <Step3Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep3()}
              setShowHelp={setShowHelp}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={3} />}
          </Fragment>
        );
      }

      if (step === 4) {
        return (
          <Fragment>
            <Step4Page
              data={data}
              updateData={updateData}
              updateValidation={updateValidation}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep4()}
              setShowHelp={setShowHelp}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={4} />}
          </Fragment>
        );
      }

      if (step === 5) {
        return (
          <CanvasPage
            data={data}
            onBack={goBack}
            onExport={exportPDF}
            onSubmit={handleSubmit}
          />
        );
      }

      return null;
    }

    // Cover Page Component
    function CoverPage({ onStart }) {
      return (
        <div className="relative min-h-screen flex items-center justify-center bg-black">
          <div
            className="absolute inset-0 w-full h-full"
            style={{
              backgroundImage: 'url("https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&q=80")',
              backgroundSize: 'cover',
              backgroundPosition: 'center'
            }}
          ></div>
          <div className="absolute inset-0" style={{background: 'linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.85))'}}></div>

          <div className="relative z-10 text-center text-white px-8 max-w-5xl mx-auto">
            <h1 className="plaak animate-in" style={{fontSize: '100px', lineHeight: '1', marginBottom: '32px'}}>
              VALUE PROPOSITION DESIGN
            </h1>
            <p className="text-4xl mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              Craft a message that makes customers say &quot;I need this NOW&quot;
            </p>
            <button
              onClick={onStart}
              className="bg-white text-black plaak px-16 py-6 border-4 border-white hover:bg-black hover:text-white transition-all text-3xl animate-in"
              style={{animationDelay: '0.4s'}}
            >
              START
            </button>
          </div>
        </div>
      );
    }

    // Intro Page Component
    function IntroPage({ data, updateData, onNext, canProceed }) {
      return (
        <div className="bg-black text-white min-h-screen p-16">
          <div className="max-w-5xl mx-auto">
            <h1 className="plaak mb-16 animate-in" style={{fontSize: '100px'}}>
              BEFORE WE START
            </h1>

            {/* User Details */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.05s'}}>
              <h2 className="plaak text-6xl mb-6">YOUR DETAILS</h2>
              <div className="space-y-6 bg-white text-black p-8">
                <div>
                  <label className="monument text-sm block mb-2">NAME <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.name}
                    onChange={(e) => updateData('name', e.target.value)}
                    placeholder="Michael Rodriguez"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">EMAIL <span className="text-red-500">*</span></label>
                  <input
                    type="email"
                    value={data.email}
                    onChange={(e) => updateData('email', e.target.value)}
                    placeholder="michael.rodriguez@company.com"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">COMPANY <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.company}
                    onChange={(e) => updateData('company', e.target.value)}
                    placeholder="GrowthTech Solutions"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">ROLE</label>
                  <input
                    type="text"
                    value={data.role}
                    onChange={(e) => updateData('role', e.target.value)}
                    placeholder="Chief Marketing Officer"
                    className="w-full"
                  />
                </div>
              </div>
            </div>

            {/* Sprint Info */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.08s'}}>
              <h2 className="plaak text-6xl mb-6" style={{color: '#FFF469'}}>SPRINT INFO</h2>
              <div className="bg-white text-black p-8">
                <p className="text-2xl font-bold mb-4">Sprint 15: Value Proposition Design</p>
                <p className="text-xl leading-relaxed mb-4">
                  A weak value proposition leads to low conversion rates, price sensitivity, and lost customers. A powerful value proposition creates clarity, differentiation, and urgency.
                </p>
                <div className="border-l-4 border-black pl-4 italic text-lg">
                  "People don't buy products. They buy better versions of themselves." — Samuel Hulme
                </div>
              </div>
            </div>

            {/* Purpose */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <h2 className="plaak text-6xl mb-6">PURPOSE</h2>

              <div className="border-l-4 border-white pl-6 mb-6">
                <p className="text-3xl italic mb-2">&quot;Companies with a clear, differentiated value proposition grow 3x faster than competitors.&quot;</p>
                <p className="text-xl text-gray-400">— McKINSEY</p>
              </div>

              <p className="text-3xl leading-relaxed mb-4">
                Your value proposition is the backbone of your entire business strategy. It determines who you attract, how much you can charge, and whether customers stick with you.
              </p>
              <p className="text-2xl text-gray-400">
                This sprint will help you craft a precise, powerful statement that makes your offer impossible to ignore.
              </p>
            </div>

            {/* Mistakes to Avoid */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <h2 className="plaak text-6xl mb-6" style={{color: '#FFF469'}}>MISTAKES TO AVOID</h2>

              <div className="bg-white text-black p-6 mb-6 border-4 border-yellow-400">
                <p className="riforma-bold text-2xl mb-4">COMMON VALUE PROPOSITION FAILURES:</p>
                <ul className="text-xl space-y-3">
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">1.</span>
                    <span><strong>Being too generic:</strong> &quot;We provide high-quality service&quot; is meaningless because everyone says it</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">2.</span>
                    <span><strong>Focusing on features, not outcomes:</strong> Customers don&apos;t care about AI-driven analytics. They care about making smarter decisions faster</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">3.</span>
                    <span><strong>Targeting too many people:</strong> If your value proposition speaks to everyone, it resonates with no one</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">4.</span>
                    <span><strong>Forgetting differentiation:</strong> If you&apos;re not explaining why you&apos;re better than alternatives, you&apos;re invisible</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">5.</span>
                    <span><strong>The vitamin trap:</strong> Nice-to-have features don&apos;t sell. You need to be a painkiller, not a vitamin</span>
                  </li>
                </ul>
              </div>

              <ul className="text-2xl space-y-4">
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Making assumptions instead of using validated customer data. 90% of startups fail because they misjudge product-market fit.</span>
                </li>
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Using complex language or jargon. If it takes more than one sentence to explain, it&apos;s not clear enough.</span>
                </li>
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Skipping validation. Test with real customers before scaling. If they don&apos;t instantly get it, refine it.</span>
                </li>
              </ul>
            </div>

            {/* The Journey */}
            <div className="mb-16 animate-in" style={{animationDelay: '0.3s'}}>
              <h2 className="plaak text-6xl mb-8">THE JOURNEY</h2>
              <div className="grid grid-cols-4 gap-6 text-center">
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">01</div>
                  <p className="text-xl font-bold mb-2">ANALYZE</p>
                  <p className="text-base text-gray-400">Customer pains & gains</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">02</div>
                  <p className="text-xl font-bold mb-2">DIFFERENTIATE</p>
                  <p className="text-base text-gray-400">Competitive positioning</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">03</div>
                  <p className="text-xl font-bold mb-2">CRAFT</p>
                  <p className="text-base text-gray-400">One-sentence formula</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">04</div>
                  <p className="text-xl font-bold mb-2">VALIDATE</p>
                  <p className="text-base text-gray-400">Test & refine</p>
                </div>
              </div>
            </div>

            <button
              onClick={onNext}
              disabled={!canProceed}
              className="btn-primary w-full text-3xl py-8 plaak"
            >
              LET&apos;S START →
            </button>
          </div>
        </div>
      );
    }

    // Transition Screen Component
    function TransitionScreen({ message, progress }) {
      return (
        <div className="fixed inset-0 bg-black text-white flex items-center justify-center z-50 fade-in">
          <div className="text-center px-8">
            <h1 className="plaak transition-animate-in" style={{fontSize: '120px', marginBottom: '32px'}}>
              SECTION COMPLETE
            </h1>

            <div className="max-w-2xl mx-auto mb-8 transition-animate-in" style={{animationDelay: '0.2s'}}>
              <div className="h-2 bg-gray-800 mb-4">
                <div
                  className="h-full bg-white transition-all duration-1000"
                  style={{width: `${progress}%`}}
                ></div>
              </div>
              <p className="monument text-xl tracking-wider">{message}</p>
            </div>
          </div>
        </div>
      );
    }

    // Step 1: Customer Pain & Gain Analysis
    function Step1Page({ data, updateData, onNext, onBack, canProceed, setShowHelp }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={1} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">01. CUSTOMER PAIN & GAIN ANALYSIS</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Understand what keeps customers awake at night
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                &quot;A strong value proposition must be a painkiller for your target segment - not just a nice-to-have vitamin. If you&apos;re not solving a pain that keeps them up at night, you don&apos;t have a compelling value proposition.&quot;
              </p>
              <p className="text-lg text-gray-600 mt-2">— The Painkiller vs. Vitamin Principle</p>
            </div>

            {/* Target Segment */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <label className="monument text-sm block mb-3">TARGET SEGMENT <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">Who exactly is this value proposition for? Be specific.</p>
              <textarea
                value={data.targetSegment}
                onChange={(e) => updateData('targetSegment', e.target.value)}
                placeholder="High-growth SaaS startups (20-100 employees) with $5M-$30M ARR, scaling operations rapidly, experiencing growing pains with workflow inefficiency"
                className="w-full"
                rows={3}
              />
              <div className={`char-counter ${data.targetSegment.length < 30 ? 'invalid' : ''}`}>
                {data.targetSegment.length}/500 (min 30 characters)
              </div>
            </div>

            {/* Biggest Pain */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <label className="monument text-sm block mb-3">BIGGEST PAIN POINT <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">What is the #1 problem that keeps them awake at night? What is costing them time, money, or stress?</p>
              <textarea
                value={data.biggestPain}
                onChange={(e) => updateData('biggestPain', e.target.value)}
                placeholder="Teams spend 40%+ of their time on repetitive manual tasks across disconnected tools. This slows down growth, causes errors, frustrates employees, and prevents focus on high-value strategic work. Last quarter alone, they lost 3 key hires due to operational chaos."
                className="w-full"
                rows={4}
              />
              <div className={`char-counter ${data.biggestPain.length < 50 ? 'invalid' : ''}`}>
                {data.biggestPain.length}/800 (min 50 characters)
              </div>
            </div>

            {/* Pain Evidence */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <label className="monument text-sm block mb-3">EVIDENCE OF PAIN</label>
              <p className="text-base text-gray-600 mb-3">What concrete evidence proves this pain exists? Numbers, quotes, behaviors.</p>
              <textarea
                value={data.painEvidence}
                onChange={(e) => updateData('painEvidence', e.target.value)}
                placeholder="Customer interviews revealed teams use average 11 different tools daily. 67% said manual data entry is their top frustration. Observed COO spending 15 hours/week on status updates. Lost $120K deal because couldn&apos;t deliver client report fast enough."
                className="w-full"
                rows={4}
              />
            </div>

            {/* Current Solutions */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.3s'}}>
              <label className="monument text-sm block mb-3">CURRENT SOLUTIONS & WORKAROUNDS</label>
              <p className="text-base text-gray-600 mb-3">What are they doing now to solve this problem? Why isn&apos;t it working?</p>
              <textarea
                value={data.currentSolutions}
                onChange={(e) => updateData('currentSolutions', e.target.value)}
                placeholder="Using Zapier but requires constant maintenance and breaks frequently. Hiring VAs to do manual work but quality inconsistent. Built internal tools but can&apos;t scale. Tried enterprise solutions but too complex and expensive."
                className="w-full"
                rows={4}
              />
            </div>

            {/* Aha Moment */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.35s'}}>
              <label className="monument text-sm block mb-3">THE &quot;AHA!&quot; MOMENT <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">When do customers realize they NEED your solution? What triggers urgency?</p>
              <textarea
                value={data.ahaMoment}
                onChange={(e) => updateData('ahaMoment', e.target.value)}
                placeholder="When they hire their 50th employee and realize manual processes that worked at 20 people are now breaking everything. When they lose a major deal because they can&apos;t respond fast enough. When their best operations person quits due to repetitive work."
                className="w-full"
                rows={4}
              />
              <div className={`char-counter ${data.ahaMoment.length < 30 ? 'invalid' : ''}`}>
                {data.ahaMoment.length}/500 (min 30 characters)
              </div>
            </div>

            {/* Desired Outcome */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.4s'}}>
              <label className="monument text-sm block mb-3">DESIRED OUTCOME (GAIN)</label>
              <p className="text-base text-gray-600 mb-3">What transformation do they want? What does success look like?</p>
              <textarea
                value={data.desiredOutcome}
                onChange={(e) => updateData('desiredOutcome', e.target.value)}
                placeholder="Team members focus 80% of time on strategic, high-value work instead of repetitive tasks. Operations run smoothly without constant firefighting. Can scale to 200+ employees without proportionally increasing ops headcount. Close deals 40% faster with instant data access."
                className="w-full"
                rows={4}
              />
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: COMPETITIVE ANALYSIS →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 2: Competitive Analysis
    function Step2Page({ data, updateData, onNext, onBack, canProceed, setShowHelp, addCompetitor, removeCompetitor, updateCompetitor }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={2} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">02. COMPETITIVE DIFFERENTIATION</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Identify what makes you uniquely valuable
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                &quot;A strong value proposition is not about being slightly better - it&apos;s about being unique. Differentiate or die.&quot;
              </p>
              <p className="text-lg text-gray-600 mt-2">— Value Proposition Design Principle</p>
            </div>

            <p className="text-xl mb-8 text-gray-700">
              Map out your top 2-3 competitors. What do they do well? Where do they fall short? How are you different?
            </p>

            {/* Competitor Analysis */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <h3 className="riforma-bold text-3xl mb-6">Competitor Analysis</h3>

              {data.competitors.map((competitor, index) => (
                <div key={index} className="bg-gray-50 border-2 border-gray-200 p-6 mb-6">
                  <div className="flex justify-between items-start mb-4">
                    <h4 className="riforma-bold text-xl">Competitor {index + 1}</h4>
                    {data.competitors.length > 1 && (
                      <button
                        onClick={() => removeCompetitor(index)}
                        className="text-red-600 hover:text-red-800 text-sm"
                      >
                        Remove
                      </button>
                    )}
                  </div>

                  <div className="space-y-4">
                    <div>
                      <label className="monument text-xs block mb-2">COMPETITOR NAME <span className="text-red-500">*</span></label>
                      <input
                        type="text"
                        value={competitor.name}
                        onChange={(e) => updateCompetitor(index, 'name', e.target.value)}
                        placeholder="AutomationHub"
                        className="w-full"
                      />
                      <div className={`char-counter ${competitor.name.length < 3 ? 'invalid' : ''}`}>
                        {competitor.name.length}/100 (min 3 characters)
                      </div>
                    </div>

                    <div>
                      <label className="monument text-xs block mb-2">THEIR STRENGTH</label>
                      <textarea
                        value={competitor.strength}
                        onChange={(e) => updateCompetitor(index, 'strength', e.target.value)}
                        placeholder="Well-established brand, 10K+ customers, extensive integration library, strong enterprise sales team"
                        className="w-full"
                        rows={2}
                      />
                    </div>

                    <div>
                      <label className="monument text-xs block mb-2">THEIR WEAKNESS <span className="text-red-500">*</span></label>
                      <textarea
                        value={competitor.weakness}
                        onChange={(e) => updateCompetitor(index, 'weakness', e.target.value)}
                        placeholder="Requires heavy IT resources and 6-month implementation. Complex pricing. Doesn&apos;t work well for non-technical users. Limited support for SMBs."
                        className="w-full"
                        rows={3}
                      />
                      <div className={`char-counter ${competitor.weakness.length < 20 ? 'invalid' : ''}`}>
                        {competitor.weakness.length}/500 (min 20 characters)
                      </div>
                    </div>

                    <div>
                      <label className="monument text-xs block mb-2">HOW WE&apos;RE DIFFERENT</label>
                      <textarea
                        value={competitor.differentiation}
                        onChange={(e) => updateCompetitor(index, 'differentiation', e.target.value)}
                        placeholder="We offer plug-and-play setup in 24 hours with zero IT required. Transparent pricing. Built specifically for high-growth SMBs, not enterprises."
                        className="w-full"
                        rows={2}
                      />
                    </div>
                  </div>
                </div>
              ))}

              <button onClick={addCompetitor} className="btn-secondary w-full">
                + Add Another Competitor
              </button>
            </div>

            {/* Unique Value */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <label className="monument text-sm block mb-3">OUR UNIQUE VALUE <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">What do YOU offer that competitors don&apos;t? What&apos;s your single biggest differentiator?</p>
              <textarea
                value={data.uniqueValue}
                onChange={(e) => updateData('uniqueValue', e.target.value)}
                placeholder="We&apos;re the ONLY automation platform that combines AI-powered workflow design with zero-code setup AND scales seamlessly from 20 to 500+ employees without requiring IT resources. Our customers go live in 24 hours vs. competitors&apos; 6 months."
                className="w-full"
                rows={4}
              />
              <div className={`char-counter ${data.uniqueValue.length < 50 ? 'invalid' : ''}`}>
                {data.uniqueValue.length}/800 (min 50 characters)
              </div>
            </div>

            {/* Why Switch */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <label className="monument text-sm block mb-3">WHY CUSTOMERS SHOULD SWITCH TO US</label>
              <p className="text-base text-gray-600 mb-3">What compelling reason would make a customer leave their current solution for yours?</p>
              <textarea
                value={data.whySwitchToUs}
                onChange={(e) => updateData('whySwitchToUs', e.target.value)}
                placeholder="Stop wasting 6 months on implementation. Get 80% of manual work automated in the first week. No IT team needed. No complex pricing surprises. Built for teams like yours who are growing fast and need results NOW, not next quarter."
                className="w-full"
                rows={4}
              />
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: CRAFT VALUE PROP →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 3: Value Proposition Crafting
    function Step3Page({ data, updateData, onNext, onBack, canProceed, setShowHelp }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={3} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">03. CRAFT YOUR VALUE PROPOSITION</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Create your one-sentence value proposition
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                &quot;A great value proposition is like a great movie trailer - it grabs attention, builds excitement, and makes people want more.&quot;
              </p>
              <p className="text-lg text-gray-600 mt-2">— Fast Track Value Proposition Principle</p>
            </div>

            {/* Formula Display */}
            <div className="bg-black text-white p-8 mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <h3 className="riforma-bold text-3xl mb-6">The Fast Track Formula</h3>
              <p className="text-2xl font-mono leading-relaxed">
                For <span className="bg-white text-black px-2">[TARGET SEGMENT]</span> who struggle with <span className="bg-white text-black px-2">[PAIN POINT]</span>, we provide <span className="bg-white text-black px-2">[SOLUTION]</span> that <span className="bg-white text-black px-2">[CORE BENEFIT]</span>, unlike <span className="bg-white text-black px-2">[COMPETITOR WEAKNESS]</span>.
              </p>
            </div>

            {/* Fill in the Formula */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <h3 className="riforma-bold text-3xl mb-6">Fill in Each Component</h3>

              <div className="space-y-8">
                {/* Target Segment */}
                <div>
                  <label className="monument text-sm block mb-3">TARGET SEGMENT <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.valuePropTargetSegment}
                    onChange={(e) => updateData('valuePropTargetSegment', e.target.value)}
                    placeholder="high-growth SaaS startups (20-100 employees)"
                    className="w-full"
                  />
                  <div className={`char-counter ${data.valuePropTargetSegment.length < 10 ? 'invalid' : ''}`}>
                    {data.valuePropTargetSegment.length}/200 (min 10 characters)
                  </div>
                </div>

                {/* Pain Point */}
                <div>
                  <label className="monument text-sm block mb-3">PAIN POINT <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.valuePropPainPoint}
                    onChange={(e) => updateData('valuePropPainPoint', e.target.value)}
                    placeholder="wasting 40% of team time on manual, repetitive workflows"
                    className="w-full"
                  />
                  <div className={`char-counter ${data.valuePropPainPoint.length < 15 ? 'invalid' : ''}`}>
                    {data.valuePropPainPoint.length}/200 (min 15 characters)
                  </div>
                </div>

                {/* Solution */}
                <div>
                  <label className="monument text-sm block mb-3">SOLUTION (WHAT WE PROVIDE) <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.valuePropSolution}
                    onChange={(e) => updateData('valuePropSolution', e.target.value)}
                    placeholder="an AI-powered, zero-code workflow automation platform"
                    className="w-full"
                  />
                  <div className={`char-counter ${data.valuePropSolution.length < 15 ? 'invalid' : ''}`}>
                    {data.valuePropSolution.length}/200 (min 15 characters)
                  </div>
                </div>

                {/* Core Benefit */}
                <div>
                  <label className="monument text-sm block mb-3">CORE BENEFIT (WHAT THEY GET) <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.valuePropCoreBenefit}
                    onChange={(e) => updateData('valuePropCoreBenefit', e.target.value)}
                    placeholder="eliminates 80% of manual work in 24 hours with zero IT resources required"
                    className="w-full"
                  />
                  <div className={`char-counter ${data.valuePropCoreBenefit.length < 15 ? 'invalid' : ''}`}>
                    {data.valuePropCoreBenefit.length}/200 (min 15 characters)
                  </div>
                </div>

                {/* Competitor Weakness */}
                <div>
                  <label className="monument text-sm block mb-3">COMPETITOR WEAKNESS (OPTIONAL)</label>
                  <input
                    type="text"
                    value={data.valuePropCompetitorWeakness}
                    onChange={(e) => updateData('valuePropCompetitorWeakness', e.target.value)}
                    placeholder="competitors who require 6-month implementations and dedicated IT teams"
                    className="w-full"
                  />
                </div>
              </div>
            </div>

            {/* Generated Value Proposition */}
            {data.fullValueProp && (
              <div className="mb-12 animate-in">
                <h3 className="riforma-bold text-3xl mb-6">Your Value Proposition</h3>
                <div className="bg-yellow-100 border-4 border-black p-8">
                  <p className="text-3xl leading-relaxed font-bold">
                    {data.fullValueProp}
                  </p>
                </div>
                <p className="text-lg text-gray-600 mt-4 italic">
                  Read it out loud. Does it make customers say &quot;I need this NOW&quot;? If not, refine the components above.
                </p>
              </div>
            )}

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: VALIDATE →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 4: Validation & Testing
    function Step4Page({ data, updateData, updateValidation, onNext, onBack, canProceed, setShowHelp }) {
      const validationQuestions = [
        { key: 'painkiller', label: 'Our value proposition solves a critical pain (painkiller, not vitamin) that 1-2 most important needs of our core customer' },
        { key: 'differentiated', label: 'Our value proposition differentiates us from competitors in a meaningful way' },
        { key: 'highValue', label: 'Our value proposition focuses on needs/pains that many customers have OR a small number is willing to pay a lot for' },
        { key: 'hardToCopy', label: 'Our value proposition is difficult to copy' },
        { key: 'notPriceOnly', label: 'Our value proposition does NOT rely on lower price only, but on unique value we create' },
        { key: 'crystalClear', label: 'Our value proposition is sharp, to the point, and crystal clear to the customer' },
        { key: 'customerNeedsBased', label: 'Our value proposition is based on what the target customer needs (not just what we do now)' },
        { key: 'decisionFilter', label: 'Our value proposition serves as a filter for management to make day-to-day strategic decisions' }
      ];

      const yesCount = Object.values(data.validation).filter(v => v === 'yes').length;

      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={4} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">04. VALIDATION & TESTING</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Test your value proposition
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                &quot;If customers don&apos;t instantly get it, refine it. If they don&apos;t care, you&apos;re solving the wrong problem.&quot;
              </p>
              <p className="text-lg text-gray-600 mt-2">— Value Proposition Testing Principle</p>
            </div>

            {/* Display Current Value Prop */}
            {data.fullValueProp && (
              <div className="mb-12 bg-black text-white p-8 animate-in" style={{animationDelay: '0.15s'}}>
                <h3 className="riforma-bold text-2xl mb-4">Your Value Proposition:</h3>
                <p className="text-2xl leading-relaxed">
                  {data.fullValueProp}
                </p>
              </div>
            )}

            {/* Validation Checklist */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <h3 className="riforma-bold text-3xl mb-6">8-Point Validation Checklist</h3>
              <p className="text-lg mb-6 text-gray-700">
                Answer honestly. You need at least 6 &quot;Yes&quot; answers to have a strong value proposition. Current score: <strong>{yesCount}/8</strong>
              </p>

              <div className="space-y-4">
                {validationQuestions.map((q, index) => (
                  <div key={q.key} className="bg-gray-50 border-2 border-gray-200 p-6">
                    <p className="text-lg mb-4 font-bold">{index + 1}. {q.label}</p>
                    <div className="flex gap-4">
                      <label className="flex items-center cursor-pointer">
                        <input
                          type="radio"
                          name={q.key}
                          value="yes"
                          checked={data.validation[q.key] === 'yes'}
                          onChange={(e) => updateValidation(q.key, e.target.value)}
                          className="mr-2 w-5 h-5"
                        />
                        <span className="text-lg">Yes</span>
                      </label>
                      <label className="flex items-center cursor-pointer">
                        <input
                          type="radio"
                          name={q.key}
                          value="no"
                          checked={data.validation[q.key] === 'no'}
                          onChange={(e) => updateValidation(q.key, e.target.value)}
                          className="mr-2 w-5 h-5"
                        />
                        <span className="text-lg">No</span>
                      </label>
                    </div>
                  </div>
                ))}
              </div>

              {yesCount < 6 && (
                <div className="bg-red-100 border-4 border-red-600 p-6 mt-6">
                  <p className="riforma-bold text-2xl mb-2">⚠️ Your value proposition needs work</p>
                  <p className="text-lg">You need at least 6 &quot;Yes&quot; answers. Review your responses and refine your value proposition before proceeding.</p>
                </div>
              )}

              {yesCount >= 6 && (
                <div className="bg-green-100 border-4 border-green-600 p-6 mt-6">
                  <p className="riforma-bold text-2xl mb-2">✓ Strong foundation!</p>
                  <p className="text-lg">Your value proposition passes the validation checklist. Now test it with real customers.</p>
                </div>
              )}
            </div>

            {/* Testing Plan */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <label className="monument text-sm block mb-3">CUSTOMER TESTING PLAN</label>
              <p className="text-base text-gray-600 mb-3">How will you test this value proposition with real customers? What will you measure?</p>
              <textarea
                value={data.testingPlan}
                onChange={(e) => updateData('testingPlan', e.target.value)}
                placeholder="Send to 20 target customers via email. Measure: Do they immediately understand it? Do they ask for a demo? Schedule 5 phone calls to read it aloud and watch their reaction. Test on landing page and measure conversion rate vs. current messaging."
                className="w-full"
                rows={5}
              />
            </div>

            {/* Refinement Notes */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.3s'}}>
              <label className="monument text-sm block mb-3">REFINEMENT NOTES</label>
              <p className="text-base text-gray-600 mb-3">What might you change based on customer feedback? What variations will you test?</p>
              <textarea
                value={data.refinementNotes}
                onChange={(e) => updateData('refinementNotes', e.target.value)}
                placeholder="If customers don&apos;t react to &quot;80% reduction&quot;, try &quot;save 30 hours per week&quot;. Test emphasizing speed (24 hours) vs. ease (zero IT). Consider adding social proof from similar companies."
                className="w-full"
                rows={4}
              />
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                VIEW COMPLETE SUMMARY →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Canvas Page Component
    function CanvasPage({ data, onBack, onExport, onSubmit }) {
      const yesCount = Object.values(data.validation).filter(v => v === 'yes').length;

      return (
        <div className="bg-white min-h-screen p-16">
          <div className="max-w-6xl mx-auto">
            <h1 className="plaak text-6xl mb-12 text-center animate-in">YOUR VALUE PROPOSITION</h1>

            <div id="canvas-content" className="border-8 border-black p-12 mb-12">
              {/* Header */}
              <div className="text-center mb-12">
                <img src="FastTrack_F_White.png" alt="Fast Track" className="h-16 mx-auto mb-4 invert" />
                <h2 className="plaak text-4xl mb-2">VALUE PROPOSITION DESIGN</h2>
                <p className="text-xl text-gray-600">Sprint 15: Customer-Centric Messaging</p>
                <p className="text-lg text-gray-600 mt-2">{data.name} • {data.company}</p>
              </div>

              {/* The Value Proposition */}
              <div className="mb-10 bg-yellow-100 border-4 border-black p-8">
                <h3 className="riforma-bold text-2xl mb-4 text-center">YOUR VALUE PROPOSITION</h3>
                <p className="text-3xl leading-relaxed font-bold text-center">
                  {data.fullValueProp}
                </p>
              </div>

              {/* Target Segment & Pain */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Customer Pain Analysis</h3>
                <div className="grid grid-cols-2 gap-6">
                  <div>
                    <p className="monument text-xs mb-2 text-gray-600">TARGET SEGMENT</p>
                    <p className="text-lg leading-relaxed">{data.targetSegment}</p>
                  </div>
                  <div>
                    <p className="monument text-xs mb-2 text-gray-600">AHA MOMENT</p>
                    <p className="text-lg leading-relaxed">{data.ahaMoment}</p>
                  </div>
                </div>
                <div className="mt-4">
                  <p className="monument text-xs mb-2 text-gray-600">BIGGEST PAIN</p>
                  <p className="text-lg leading-relaxed">{data.biggestPain}</p>
                </div>
              </div>

              {/* Competitive Differentiation */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Competitive Differentiation</h3>
                <div className="mb-4">
                  <p className="monument text-xs mb-2 text-gray-600">OUR UNIQUE VALUE</p>
                  <p className="text-lg leading-relaxed">{data.uniqueValue}</p>
                </div>
                {data.competitors.length > 0 && (
                  <div className="grid grid-cols-3 gap-4 mt-4">
                    {data.competitors.map((c, i) => (
                      <div key={i} className="bg-gray-100 p-4">
                        <p className="monument text-xs mb-2">{c.name}</p>
                        <p className="text-sm mb-2"><strong>Weakness:</strong> {c.weakness.substring(0, 100)}{c.weakness.length > 100 ? '...' : ''}</p>
                      </div>
                    ))}
                  </div>
                )}
              </div>

              {/* Validation Score */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Validation Score</h3>
                <div className="flex items-center gap-6">
                  <div className="text-center">
                    <div className="text-7xl font-bold">{yesCount}/8</div>
                    <p className="text-lg text-gray-600">Validation Score</p>
                  </div>
                  <div className="flex-1">
                    {yesCount >= 6 ? (
                      <div className="bg-green-100 border-2 border-green-600 p-4">
                        <p className="riforma-bold text-xl">✓ Strong Value Proposition</p>
                        <p className="text-base">Passed validation checklist. Ready for customer testing.</p>
                      </div>
                    ) : (
                      <div className="bg-red-100 border-2 border-red-600 p-4">
                        <p className="riforma-bold text-xl">⚠️ Needs Refinement</p>
                        <p className="text-base">Score below threshold. Review and strengthen weak areas.</p>
                      </div>
                    )}
                  </div>
                </div>
              </div>

              {/* Testing Plan */}
              {data.testingPlan && (
                <div className="mb-10">
                  <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Customer Testing Plan</h3>
                  <p className="text-lg leading-relaxed whitespace-pre-line">{data.testingPlan}</p>
                </div>
              )}

              <div className="text-center text-sm text-gray-500 mt-12 pt-6 border-t border-gray-300">
                Generated on {new Date().toLocaleDateString()} • Fast Track Program Sprint 15
              </div>
            </div>

            {/* Action Buttons */}
            <div className="grid grid-cols-3 gap-6 mb-8 no-print">
              <button onClick={onBack} className="btn-secondary text-xl py-6">
                ← EDIT
              </button>
              <button onClick={onExport} className="btn-primary text-xl py-6">
                EXPORT PDF
              </button>
              <button onClick={onSubmit} className="btn-primary text-xl py-6">
                SUBMIT
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Help Modal Component
    function HelpModal({ onClose, stepNumber }) {
      const helpContent = {
        1: {
          title: "CUSTOMER PAIN & GAIN ANALYSIS",
          why: "Without understanding your customer's biggest pain, you cannot create a compelling value proposition. 90% of startups fail because they misjudge product-market fit. This step ensures you're solving a real, urgent problem.",
          what: "Identify the specific pain that keeps your target segment awake at night. Not a minor inconvenience - a painkiller, not a vitamin. Document evidence that proves this pain exists and understand the 'Aha!' moment when customers realize they need your solution.",
          how: [
            "Be brutally specific about your target segment - industry, size, revenue, growth stage",
            "Describe the pain with concrete evidence: numbers, quotes, behaviors you've observed",
            "Ask: What is this costing them? Time? Money? Customers? Employees?",
            "Identify the trigger moment - when does this pain become unbearable?",
            "Map the desired transformation - what does success look like?",
            "Remember: If you're not solving a pain that causes urgency, you're just a vitamin"
          ]
        },
        2: {
          title: "COMPETITIVE DIFFERENTIATION",
          why: "If you can't explain why you're different from competitors, customers will choose based on price alone. A strong value proposition requires clear differentiation - not just being slightly better, but being unique in a way that matters to customers.",
          what: "Analyze your top 2-3 competitors to understand their strengths and weaknesses. Identify what makes you uniquely valuable - the single biggest reason customers should choose you over alternatives.",
          how: [
            "List real competitors (not just 'we have no competitors' - alternatives always exist)",
            "Be honest about their strengths - what do they do well?",
            "Identify their critical weaknesses - where do they fall short?",
            "Find your unique angle - what do YOU do that they don't?",
            "Focus on meaningful differentiation, not trivial features",
            "Ask: Why would a customer switch from them to us? What's the compelling reason?"
          ]
        },
        3: {
          title: "CRAFT VALUE PROPOSITION",
          why: "A confused customer won't buy. Your value proposition must be crystal clear, compelling, and instantly understandable. This is the single most important sentence in your business - it determines who you attract and how fast you grow.",
          what: "Use the Fast Track Formula to craft a one-sentence value proposition that addresses customer pain, highlights your solution and benefits, and differentiates you from competitors. Make it sharp, specific, and memorable.",
          how: [
            "Follow the formula: For [segment] who struggle with [pain], we provide [solution] that [benefit], unlike [competitor weakness]",
            "Keep it to one sentence - if you can't explain it simply, it's not clear enough",
            "Focus on customer outcomes, not your features - what do THEY get?",
            "Use specific numbers when possible: '80% faster' beats 'much faster'",
            "Read it out loud - does it sound natural? Would a customer say this?",
            "Test: Would your target customer immediately say 'I need this NOW'? If not, refine it"
          ]
        },
        4: {
          title: "VALIDATION & TESTING",
          why: "Even the best value proposition is just a hypothesis until you test it with real customers. Companies that validate early and iterate quickly are 3x more likely to succeed. If customers don't instantly get it, you need to refine it.",
          what: "Run your value proposition through the 8-point validation checklist to ensure it's strong. Then create a plan to test it with real target customers and measure their reactions.",
          how: [
            "Complete the 8-point checklist honestly - you need 6+ 'Yes' answers",
            "If you scored below 6, go back and strengthen weak areas before testing",
            "Test with at least 10-20 target customers - not friends or family",
            "Watch for instant comprehension - do they immediately understand what you do?",
            "Measure urgency - do they ask for more info, a demo, pricing?",
            "Iterate based on feedback - if multiple people don't get it, change it",
            "Don't defend your value prop - listen and learn from customer reactions"
          ]
        }
      };

      const content = helpContent[stepNumber];

      return (
        <div
          className="fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-8 fade-in"
          onClick={onClose}
        >
          <div
            className="bg-white max-w-4xl max-h-[90vh] overflow-y-auto p-12 border-8 border-black"
            onClick={(e) => e.stopPropagation()}
          >
            <h2 className="plaak text-5xl mb-8">{content.title}</h2>

            <div className="mb-8">
              <h3 className="riforma-bold text-2xl mb-3">WHY THIS MATTERS</h3>
              <p className="text-xl leading-relaxed">{content.why}</p>
            </div>

            <div className="mb-8">
              <h3 className="riforma-bold text-2xl mb-3">WHAT TO DO</h3>
              <p className="text-xl leading-relaxed">{content.what}</p>
            </div>

            <div className="mb-12">
              <h3 className="riforma-bold text-2xl mb-3">HOW TO DO IT</h3>
              <ul className="space-y-3">
                {content.how.map((item, index) => (
                  <li key={index} className="flex items-start text-lg">
                    <span className="text-2xl mr-3">•</span>
                    <span>{item}</span>
                  </li>
                ))}
              </ul>
            </div>

            <button onClick={onClose} className="btn-primary w-full text-2xl py-4">
              GOT IT
            </button>
          </div>
        </div>
      );
    }

    // Progress Indicator Component
    function ProgressIndicator({ currentStep }) {
      const steps = [
        { number: 1, label: 'Analyze' },
        { number: 2, label: 'Differentiate' },
        { number: 3, label: 'Craft' },
        { number: 4, label: 'Validate' }
      ];

      return (
        <div className="flex items-center justify-center mb-12 animate-in">
          {steps.map((step, index) => (
            <Fragment key={step.number}>
              <div className="flex flex-col items-center">
                <div
                  className={`progress-dot mb-2 ${
                    step.number === currentStep
                      ? 'active'
                      : step.number < currentStep
                      ? 'completed'
                      : ''
                  }`}
                ></div>
                <span
                  className={`monument text-xs ${
                    step.number <= currentStep ? 'text-black' : 'text-gray-400'
                  }`}
                >
                  {step.label}
                </span>
              </div>
              {index < steps.length - 1 && (
                <div className="progress-line mx-4" style={{ width: '80px' }}></div>
              )}
            </Fragment>
          ))}
        </div>
      );
    }

    // Help Button Component
    function HelpButton({ onClick }) {
      return (
        <button
          onClick={onClick}
          className="help-button no-print"
          aria-label="Help"
        >
          ?
        </button>
      );
    }

    // Render App
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<ValuePropApp />);
  </script>
</body>
</html>
