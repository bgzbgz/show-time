<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Target Segment Deep Dive | Fast Track Program</title>

  <!-- React & ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jsPDF + html2canvas for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    /* Font Face Declarations */
    @font-face {
      font-family: 'Plaak';
      src: url('Plaak3Trial-43-Bold.otf') format('opentype');
      font-weight: bold;
      font-style: normal;
    }

    @font-face {
      font-family: 'Riforma';
      src: url('RiformaLL-Regular.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Monument';
      src: url('MonumentGrotesk-Mono.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
    }

    /* Global Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Riforma', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .plaak {
      font-family: 'Plaak', sans-serif;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: -0.02em;
    }

    .riforma-bold {
      font-family: 'Riforma', sans-serif;
      font-weight: bold;
    }

    .monument {
      font-family: 'Monument', monospace;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Animations */
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-in {
      animation: slideIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-out;
    }

    .transition-animate-in {
      animation: slideIn 0.6s ease-out;
    }

    /* Button Styles */
    .btn-primary {
      background: #000000;
      color: #FFFFFF;
      padding: 16px 32px;
      border: 2px solid #000000;
      font-size: 18px;
      font-family: 'Riforma', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: normal;
    }

    .btn-primary:hover:not(:disabled) {
      transform: scale(1.02);
    }

    .btn-primary:disabled {
      background: #E0E0E0;
      border-color: #E0E0E0;
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #FFFFFF;
      color: #000000;
      padding: 12px 24px;
      border: 2px solid #000000;
      font-size: 16px;
      font-family: 'Riforma', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-secondary:hover {
      background: #F8F8F8;
    }

    /* Form Styles */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    textarea,
    select {
      border: 1px solid #E0E0E0;
      padding: 12px 16px;
      font-size: 18px;
      font-family: 'Riforma', sans-serif;
      width: 100%;
      transition: border-color 0.2s ease;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #000000;
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    textarea::placeholder {
      white-space: pre-line;
    }

    /* Numbered Section Badge */
    .numbered-section {
      background: #000000;
      color: #FFFFFF;
      padding: 10px 16px;
      font-family: 'Plaak', sans-serif;
      font-size: 26px;
      display: inline-block;
      text-transform: uppercase;
      letter-spacing: -0.02em;
    }

    /* Help Button */
    .help-button {
      position: fixed;
      top: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #000000;
      color: #FFFFFF;
      font-size: 28px;
      border: none;
      cursor: pointer;
      z-index: 40;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Riforma', sans-serif;
    }

    .help-button:hover {
      background: #FFF469;
      color: #000000;
      transform: scale(1.1);
    }

    /* Progress Indicator */
    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #E0E0E0;
      transition: all 0.3s ease;
    }

    .progress-dot.active {
      background: #000000;
      transform: scale(1.3);
    }

    .progress-dot.completed {
      background: #000000;
    }

    .progress-line {
      height: 2px;
      background: #E0E0E0;
      flex: 1;
    }

    /* Print Styles */
    @media print {
      .no-print {
        display: none !important;
      }
    }

    /* Character Counter */
    .char-counter {
      font-size: 14px;
      color: #666;
      margin-top: 4px;
    }

    .char-counter.invalid {
      color: #EF4444;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, Fragment } = React;

    // Main App Component
    function DeepDiveApp() {
      const [step, setStep] = useState(0);
      const [showHelp, setShowHelp] = useState(false);
      const [showTransition, setShowTransition] = useState(false);
      const [transitionMessage, setTransitionMessage] = useState('');
      const [transitionProgress, setTransitionProgress] = useState(0);

      const [data, setData] = useState({
        // User details
        name: '',
        email: '',
        company: '',
        role: '',

        // Step 1: Interview Guide
        targetSegment: '',
        interviewObjective: '',
        interviewQuestions: [
          { category: 'Past Behavior', question: '' },
          { category: 'Specific Challenges', question: '' },
          { category: 'Current Solutions', question: '' }
        ],

        // Step 2: Interview Notes
        interviews: [
          {
            customerName: '',
            customerProfile: '',
            pains: '',
            needs: '',
            gains: '',
            quotes: '',
            observations: ''
          }
        ],

        // Step 3: Prioritization Matrix
        painsPriority: [
          { pain: '', severity: '', frequency: '', impact: '', score: '' }
        ],
        needsPriority: [
          { need: '', severity: '', frequency: '', impact: '', score: '' }
        ],
        gainsPriority: [
          { gain: '', severity: '', frequency: '', impact: '', score: '' }
        ],

        // Step 4: Summary
        topPains: '',
        topNeeds: '',
        topGains: '',
        keyInsights: '',
        strategicImplications: ''
      });

      // Auto-save
      useEffect(() => {
        const interval = setInterval(() => {
          localStorage.setItem('deepDiveData', JSON.stringify({
            data,
            timestamp: new Date().toISOString()
          }));
        }, 2000);

        return () => clearInterval(interval);
      }, [data]);

      // Load saved data
      useEffect(() => {
        const saved = localStorage.getItem('deepDiveData');
        if (saved) {
          try {
            const parsed = JSON.parse(saved);
            if (parsed.data) {
              setData(parsed.data);
            }
          } catch (e) {
            console.error('Failed to parse saved data');
          }
        }
      }, []);

      const updateData = (field, value) => {
        setData(prev => ({ ...prev, [field]: value }));
      };

      // Array management functions
      const addInterviewQuestion = () => {
        setData(prev => ({
          ...prev,
          interviewQuestions: [...prev.interviewQuestions, { category: '', question: '' }]
        }));
      };

      const removeInterviewQuestion = (index) => {
        if (data.interviewQuestions.length > 1) {
          setData(prev => ({
            ...prev,
            interviewQuestions: prev.interviewQuestions.filter((_, i) => i !== index)
          }));
        }
      };

      const updateInterviewQuestion = (index, field, value) => {
        setData(prev => ({
          ...prev,
          interviewQuestions: prev.interviewQuestions.map((q, i) =>
            i === index ? { ...q, [field]: value } : q
          )
        }));
      };

      const addInterview = () => {
        setData(prev => ({
          ...prev,
          interviews: [...prev.interviews, {
            customerName: '',
            customerProfile: '',
            pains: '',
            needs: '',
            gains: '',
            quotes: '',
            observations: ''
          }]
        }));
      };

      const removeInterview = (index) => {
        if (data.interviews.length > 1) {
          setData(prev => ({
            ...prev,
            interviews: prev.interviews.filter((_, i) => i !== index)
          }));
        }
      };

      const updateInterview = (index, field, value) => {
        setData(prev => ({
          ...prev,
          interviews: prev.interviews.map((interview, i) =>
            i === index ? { ...interview, [field]: value } : interview
          )
        }));
      };

      // Similar functions for priority arrays
      const addPainPriority = () => {
        setData(prev => ({
          ...prev,
          painsPriority: [...prev.painsPriority, { pain: '', severity: '', frequency: '', impact: '', score: '' }]
        }));
      };

      const removePainPriority = (index) => {
        if (data.painsPriority.length > 1) {
          setData(prev => ({
            ...prev,
            painsPriority: prev.painsPriority.filter((_, i) => i !== index)
          }));
        }
      };

      const updatePainPriority = (index, field, value) => {
        setData(prev => ({
          ...prev,
          painsPriority: prev.painsPriority.map((p, i) => {
            if (i === index) {
              const updated = { ...p, [field]: value };
              if (field !== 'pain' && field !== 'score') {
                const severity = parseFloat(updated.severity) || 0;
                const frequency = parseFloat(updated.frequency) || 0;
                const impact = parseFloat(updated.impact) || 0;
                updated.score = ((severity + frequency + impact) / 3).toFixed(1);
              }
              return updated;
            }
            return p;
          })
        }));
      };

      const addNeedPriority = () => {
        setData(prev => ({
          ...prev,
          needsPriority: [...prev.needsPriority, { need: '', severity: '', frequency: '', impact: '', score: '' }]
        }));
      };

      const removeNeedPriority = (index) => {
        if (data.needsPriority.length > 1) {
          setData(prev => ({
            ...prev,
            needsPriority: prev.needsPriority.filter((_, i) => i !== index)
          }));
        }
      };

      const updateNeedPriority = (index, field, value) => {
        setData(prev => ({
          ...prev,
          needsPriority: prev.needsPriority.map((n, i) => {
            if (i === index) {
              const updated = { ...n, [field]: value };
              if (field !== 'need' && field !== 'score') {
                const severity = parseFloat(updated.severity) || 0;
                const frequency = parseFloat(updated.frequency) || 0;
                const impact = parseFloat(updated.impact) || 0;
                updated.score = ((severity + frequency + impact) / 3).toFixed(1);
              }
              return updated;
            }
            return n;
          })
        }));
      };

      const addGainPriority = () => {
        setData(prev => ({
          ...prev,
          gainsPriority: [...prev.gainsPriority, { gain: '', severity: '', frequency: '', impact: '', score: '' }]
        }));
      };

      const removeGainPriority = (index) => {
        if (data.gainsPriority.length > 1) {
          setData(prev => ({
            ...prev,
            gainsPriority: prev.gainsPriority.filter((_, i) => i !== index)
          }));
        }
      };

      const updateGainPriority = (index, field, value) => {
        setData(prev => ({
          ...prev,
          gainsPriority: prev.gainsPriority.map((g, i) => {
            if (i === index) {
              const updated = { ...g, [field]: value };
              if (field !== 'gain' && field !== 'score') {
                const severity = parseFloat(updated.severity) || 0;
                const frequency = parseFloat(updated.frequency) || 0;
                const impact = parseFloat(updated.impact) || 0;
                updated.score = ((severity + frequency + impact) / 3).toFixed(1);
              }
              return updated;
            }
            return g;
          })
        }));
      };

      const goNext = () => {
        if (step === 0.5) {
          setStep(1);
        } else if (step >= 1 && step < 4) {
          const messages = ['25% COMPLETE', '50% COMPLETE', '75% COMPLETE', '100% COMPLETE'];
          const progressValues = [25, 50, 75, 100];

          setTransitionMessage(messages[step - 1]);
          setTransitionProgress(progressValues[step - 1]);
          setShowTransition(true);

          setTimeout(() => {
            setShowTransition(false);
            setStep(step + 1);
          }, 2000);
        } else if (step === 4) {
          setTransitionMessage('100% COMPLETE');
          setTransitionProgress(100);
          setShowTransition(true);

          setTimeout(() => {
            setShowTransition(false);
            setStep(5);
          }, 2000);
        } else if (step === 0) {
          setStep(0.5);
        }
      };

      const goBack = () => {
        if (step === 5) {
          setStep(4);
        } else if (step > 1) {
          setStep(step - 1);
        } else if (step === 1) {
          setStep(0.5);
        }
      };

      // Validation functions
      const canProceedFromIntro = () => {
        return data.name.length > 0 && data.email.length > 0 && data.company.length > 0;
      };

      const canProceedFromStep1 = () => {
        return data.targetSegment.length >= 30 &&
               data.interviewObjective.length >= 30 &&
               data.interviewQuestions.every(q => q.question.length >= 20);
      };

      const canProceedFromStep2 = () => {
        return data.interviews.every(i =>
          i.customerName.length >= 3 && i.pains.length >= 50 && i.needs.length >= 50
        );
      };

      const canProceedFromStep3 = () => {
        return data.painsPriority.every(p => p.pain.length >= 10 && p.severity.length > 0) &&
               data.needsPriority.every(n => n.need.length >= 10 && n.severity.length > 0);
      };

      const canProceedFromStep4 = () => {
        return data.topPains.length >= 50 &&
               data.topNeeds.length >= 50 &&
               data.keyInsights.length >= 100;
      };

      const exportPDF = async () => {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF('p', 'mm', 'a4');

        const canvas = document.getElementById('canvas-content');
        if (canvas) {
          const canvasImage = await html2canvas(canvas, {
            scale: 2,
            useCORS: true,
            logging: false
          });

          const imgData = canvasImage.toDataURL('image/png');
          const imgWidth = 190;
          const imgHeight = (canvasImage.height * imgWidth) / canvasImage.width;

          pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);

          const filename = `Target-Segment-Deep-Dive-${new Date().toISOString().split('T')[0]}.pdf`;
          pdf.save(filename);
        }
      };

      const handleSubmit = async () => {
        alert('Target segment insights submitted successfully! (Demo mode)');
      };

      // Render different pages based on step
      if (showTransition) {
        return <TransitionScreen message={transitionMessage} progress={transitionProgress} />;
      }

      if (step === 0) {
        return <CoverPage onStart={goNext} />;
      }

      if (step === 0.5) {
        return <IntroPage data={data} updateData={updateData} onNext={goNext} canProceed={canProceedFromIntro()} />;
      }

      if (step === 1) {
        return (
          <>
            <Step1Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep1()}
              setShowHelp={setShowHelp}
              addInterviewQuestion={addInterviewQuestion}
              removeInterviewQuestion={removeInterviewQuestion}
              updateInterviewQuestion={updateInterviewQuestion}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={1} />}
          </>
        );
      }

      if (step === 2) {
        return (
          <>
            <Step2Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep2()}
              setShowHelp={setShowHelp}
              addInterview={addInterview}
              removeInterview={removeInterview}
              updateInterview={updateInterview}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={2} />}
          </>
        );
      }

      if (step === 3) {
        return (
          <>
            <Step3Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep3()}
              setShowHelp={setShowHelp}
              addPainPriority={addPainPriority}
              removePainPriority={removePainPriority}
              updatePainPriority={updatePainPriority}
              addNeedPriority={addNeedPriority}
              removeNeedPriority={removeNeedPriority}
              updateNeedPriority={updateNeedPriority}
              addGainPriority={addGainPriority}
              removeGainPriority={removeGainPriority}
              updateGainPriority={updateGainPriority}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={3} />}
          </>
        );
      }

      if (step === 4) {
        return (
          <>
            <Step4Page
              data={data}
              updateData={updateData}
              onNext={goNext}
              onBack={goBack}
              canProceed={canProceedFromStep4()}
              setShowHelp={setShowHelp}
            />
            {showHelp && <HelpModal onClose={() => setShowHelp(false)} stepNumber={4} />}
          </>
        );
      }

      if (step === 5) {
        return (
          <CanvasPage
            data={data}
            onBack={goBack}
            onExport={exportPDF}
            onSubmit={handleSubmit}
          />
        );
      }

      return null;
    }

    // Cover Page Component
    function CoverPage({ onStart }) {
      return (
        <div className="relative min-h-screen flex items-center justify-center bg-black">
          <div
            className="absolute inset-0 w-full h-full"
            style={{
              backgroundImage: 'url("https://images.unsplash.com/photo-1553877522-43269d4ea984?w=1920&q=80")',
              backgroundSize: 'cover',
              backgroundPosition: 'center'
            }}
          ></div>
          <div className="absolute inset-0" style={{background: 'linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.85))'}}></div>

          <div className="relative z-10 text-center text-white px-8 max-w-5xl mx-auto">
            <h1 className="plaak animate-in" style={{fontSize: '100px', lineHeight: '1', marginBottom: '32px'}}>
              TARGET SEGMENT DEEP DIVE
            </h1>
            <p className="text-4xl mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              Uncover what customers really need
            </p>
            <button
              onClick={onStart}
              className="bg-white text-black plaak px-16 py-6 border-4 border-white hover:bg-black hover:text-white transition-all text-3xl animate-in"
              style={{animationDelay: '0.4s'}}
            >
              START
            </button>
          </div>
        </div>
      );
    }

    // Intro Page Component
    function IntroPage({ data, updateData, onNext, canProceed }) {
      return (
        <div className="bg-black text-white min-h-screen p-16">
          <div className="max-w-5xl mx-auto">
            <h1 className="plaak mb-16 animate-in" style={{fontSize: '100px'}}>
              BEFORE WE START
            </h1>

            {/* User Details */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.05s'}}>
              <h2 className="plaak text-6xl mb-6">YOUR DETAILS</h2>
              <div className="space-y-6 bg-white text-black p-8">
                <div>
                  <label className="monument text-sm block mb-2">NAME <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.name}
                    onChange={(e) => updateData('name', e.target.value)}
                    placeholder="Lisa Martinez"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">EMAIL <span className="text-red-500">*</span></label>
                  <input
                    type="email"
                    value={data.email}
                    onChange={(e) => updateData('email', e.target.value)}
                    placeholder="lisa.martinez@company.com"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">COMPANY <span className="text-red-500">*</span></label>
                  <input
                    type="text"
                    value={data.company}
                    onChange={(e) => updateData('company', e.target.value)}
                    placeholder="InnovateTech Solutions"
                    className="w-full"
                  />
                </div>
                <div>
                  <label className="monument text-sm block mb-2">ROLE</label>
                  <input
                    type="text"
                    value={data.role}
                    onChange={(e) => updateData('role', e.target.value)}
                    placeholder="Product Strategy Director"
                    className="w-full"
                  />
                </div>
              </div>
            </div>

            {/* Sprint Info */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.08s'}}>
              <h2 className="plaak text-6xl mb-6" style={{color: '#FFF469'}}>SPRINT INFO</h2>
              <div className="bg-white text-black p-8">
                <p className="text-2xl font-bold mb-4">Sprint 14: Target Segment Deep Dive - Pains, Needs, Gains</p>
                <p className="text-xl leading-relaxed mb-4">
                  Understanding your customers' pains, needs, and gains is the cornerstone of a successful strategy. This sprint dives deep into what truly drives your target customer segment using The Mom Test methodology.
                </p>
                <div className="border-l-4 border-black pl-4 italic text-lg">
                  "Focus on the customer's life: Understanding past behaviors and decisions is more valuable than asking for opinions or future predictions. Seek evidence over compliments." — Rob Fitzpatrick, The Mom Test
                </div>
              </div>
            </div>

            {/* Purpose */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <h2 className="plaak text-6xl mb-6">PURPOSE</h2>

              <div className="border-l-4 border-white pl-6 mb-6">
                <p className="text-3xl italic mb-2">"Strategy begins with identifying real customer problems. Validate pains with field observations and interviews."</p>
                <p className="text-xl text-gray-400">— RICHARD RUMELT, Good Strategy Bad Strategy</p>
              </div>

              <p className="text-3xl leading-relaxed mb-4">
                By uncovering pains, needs, and gains through customer interviews, you can craft a strategy that aligns with real insights, ensuring impactful and sustainable growth.
              </p>
              <p className="text-2xl text-gray-400">
                The Mom Test methodology prevents false validation - even your mom would lie to avoid hurting your feelings. Ask about past behaviors, not opinions.
              </p>
            </div>

            {/* Mistakes to Avoid */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <h2 className="plaak text-6xl mb-6" style={{color: '#FFF469'}}>MISTAKES TO AVOID</h2>

              <div className="bg-white text-black p-6 mb-6 border-4 border-yellow-400">
                <p className="riforma-bold text-2xl mb-4">TOP 10 INTERVIEW MISTAKES:</p>
                <ul className="text-xl space-y-3">
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">1.</span>
                    <span><strong>Relying on hypothetical scenarios:</strong> "Would you buy this?" is worthless. Ask what they did last time, not what they might do</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">2.</span>
                    <span><strong>Leading questions that bias responses:</strong> "Don't you think this is a problem?" Instead: "Tell me about the last time..."</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">3.</span>
                    <span><strong>Pitching instead of learning:</strong> Stop selling during interviews. The goal is to learn, not to convince</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">4.</span>
                    <span><strong>Seeking compliments over evidence:</strong> "That's a great idea!" is nice but useless. Ask what they actually do</span>
                  </li>
                  <li className="flex items-start">
                    <span className="text-3xl mr-3">5.</span>
                    <span><strong>Ignoring negative signals:</strong> Doubts and criticisms are gold. They're opportunities for improvement</span>
                  </li>
                </ul>
              </div>

              <ul className="text-2xl space-y-4">
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Generalizing insights. Seek specifics: dates, names, numbers. "I sometimes struggle" is vague. "Last Tuesday I spent 3 hours..." is useful.</span>
                </li>
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Interviewing customers who don't fit 100% within target segment. Invalid data corrupts insights.</span>
                </li>
                <li className="flex items-start">
                  <span className="text-4xl mr-4">•</span>
                  <span>Talking too much. Silence is your friend - let them think and elaborate. Dig deeper by asking "Why?"</span>
                </li>
              </ul>
            </div>

            {/* The Journey */}
            <div className="mb-16 animate-in" style={{animationDelay: '0.3s'}}>
              <h2 className="plaak text-6xl mb-8">THE JOURNEY</h2>
              <div className="grid grid-cols-4 gap-6 text-center">
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">01</div>
                  <p className="text-xl font-bold mb-2">PREPARE</p>
                  <p className="text-base text-gray-400">Mom Test interview questions</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">02</div>
                  <p className="text-xl font-bold mb-2">INTERVIEW</p>
                  <p className="text-base text-gray-400">Document 2-3 customer insights</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">03</div>
                  <p className="text-xl font-bold mb-2">PRIORITIZE</p>
                  <p className="text-base text-gray-400">Rank by severity and impact</p>
                </div>
                <div className="border-2 border-white p-6">
                  <div className="text-8xl plaak mb-4">04</div>
                  <p className="text-xl font-bold mb-2">SYNTHESIZE</p>
                  <p className="text-base text-gray-400">Top insights and implications</p>
                </div>
              </div>
            </div>

            <button
              onClick={onNext}
              disabled={!canProceed}
              className="btn-primary w-full text-3xl py-8 plaak"
            >
              LET'S START →
            </button>
          </div>
        </div>
      );
    }

    // Transition Screen Component
    function TransitionScreen({ message, progress }) {
      return (
        <div className="fixed inset-0 bg-black text-white flex items-center justify-center z-50 fade-in">
          <div className="text-center px-8">
            <h1 className="plaak transition-animate-in" style={{fontSize: '120px', marginBottom: '32px'}}>
              SECTION COMPLETE
            </h1>

            <div className="max-w-2xl mx-auto mb-8 transition-animate-in" style={{animationDelay: '0.2s'}}>
              <div className="h-2 bg-gray-800 mb-4">
                <div
                  className="h-full bg-white transition-all duration-1000"
                  style={{width: `${progress}%`}}
                ></div>
              </div>
              <p className="monument text-xl tracking-wider">{message}</p>
            </div>
          </div>
        </div>
      );
    }

    // Step 1: Interview Preparation
    function Step1Page({ data, updateData, onNext, onBack, canProceed, setShowHelp, addInterviewQuestion, removeInterviewQuestion, updateInterviewQuestion }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={1} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">01. INTERVIEW PREPARATION</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Build your Mom Test interview guide
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                "Talk about their life instead of your idea. Ask about specifics in the past instead of generics or opinions about the future. Talk less and listen more."
              </p>
              <p className="text-lg text-gray-600 mt-2">— Rob Fitzpatrick, The Mom Test</p>
            </div>

            {/* Target Segment Confirmation */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <label className="monument text-sm block mb-3">TARGET SEGMENT FOR INTERVIEWS <span className="text-red-500">*</span></label>
              <textarea
                value={data.targetSegment}
                onChange={(e) => updateData('targetSegment', e.target.value)}
                placeholder="Mid-market SaaS companies (50-200 employees) with $10M-$50M ARR, using legacy systems for customer management, experiencing 20%+ annual growth, based in North America"
                className="w-full"
                rows={3}
              />
              <div className={`char-counter ${data.targetSegment.length < 30 ? 'invalid' : ''}`}>
                {data.targetSegment.length}/300 (min 30 characters)
              </div>
            </div>

            {/* Interview Objective */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <label className="monument text-sm block mb-3">INTERVIEW OBJECTIVE <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">What do you want to learn? Focus on past behaviors, not future intentions.</p>
              <textarea
                value={data.interviewObjective}
                onChange={(e) => updateData('interviewObjective', e.target.value)}
                placeholder="Understand how mid-market SaaS companies currently handle customer data integration. Learn what specific problems they faced in the last 6 months with their existing solutions. Identify workarounds they've built and time/money spent on those."
                className="w-full"
                rows={3}
              />
              <div className={`char-counter ${data.interviewObjective.length < 30 ? 'invalid' : ''}`}>
                {data.interviewObjective.length}/300 (min 30 characters)
              </div>
            </div>

            {/* Mom Test Questions */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <h3 className="riforma-bold text-3xl mb-4">Mom Test Questions</h3>
              <p className="text-lg mb-6 text-gray-700">
                Focus on past behaviors, specific incidents, and what they actually did (not what they say they'd do).
              </p>

              {data.interviewQuestions.map((q, index) => (
                <div key={index} className="bg-gray-50 border-2 border-gray-200 p-6 mb-6">
                  <div className="flex justify-between items-start mb-4">
                    <h4 className="riforma-bold text-xl">Question {index + 1}</h4>
                    {data.interviewQuestions.length > 1 && (
                      <button
                        onClick={() => removeInterviewQuestion(index)}
                        className="text-red-600 hover:text-red-800 text-sm"
                      >
                        Remove
                      </button>
                    )}
                  </div>

                  <div className="mb-4">
                    <label className="monument text-xs block mb-2">CATEGORY</label>
                    <select
                      value={q.category}
                      onChange={(e) => updateInterviewQuestion(index, 'category', e.target.value)}
                      className="w-full"
                    >
                      <option value="">Select category...</option>
                      <option value="Past Behavior">Past Behavior</option>
                      <option value="Specific Challenges">Specific Challenges</option>
                      <option value="Current Solutions">Current Solutions</option>
                      <option value="Money & Time">Money & Time</option>
                      <option value="Decision Process">Decision Process</option>
                    </select>
                  </div>

                  <div>
                    <label className="monument text-xs block mb-2">QUESTION <span className="text-red-500">*</span></label>
                    <textarea
                      value={q.question}
                      onChange={(e) => updateInterviewQuestion(index, 'question', e.target.value)}
                      placeholder="Tell me about the last time you had to integrate customer data from multiple sources. What exactly happened? What did you do? How long did it take? What did it cost?"
                      className="w-full"
                      rows={3}
                    />
                    <div className={`char-counter ${q.question.length < 20 ? 'invalid' : ''}`}>
                      {q.question.length}/500 (min 20 characters)
                    </div>
                  </div>
                </div>
              ))}

              <button
                onClick={addInterviewQuestion}
                className="btn-secondary w-full"
              >
                + Add Another Question
              </button>
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: CONDUCT INTERVIEWS →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 2: Customer Interviews
    function Step2Page({ data, updateData, onNext, onBack, canProceed, setShowHelp, addInterview, removeInterview, updateInterview }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={2} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">02. CUSTOMER INTERVIEWS</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Document your interview insights
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                "Customers don't know what they want. They know what problems they have and what they've tried before. That's your gold mine."
              </p>
              <p className="text-lg text-gray-600 mt-2">— The Mom Test Principle</p>
            </div>

            <p className="text-xl mb-8 text-gray-700">
              Conduct 2-3 interviews minimum. Focus on: What are their <strong>pains</strong> (problems), <strong>needs</strong> (must-haves), and <strong>gains</strong> (desired outcomes)?
            </p>

            {data.interviews.map((interview, index) => (
              <div key={index} className="bg-gray-50 border-4 border-gray-300 p-8 mb-8 animate-in" style={{animationDelay: `${0.15 + index * 0.05}s`}}>
                <div className="flex justify-between items-start mb-6">
                  <h4 className="riforma-bold text-3xl">Interview {index + 1}</h4>
                  {data.interviews.length > 1 && (
                    <button
                      onClick={() => removeInterview(index)}
                      className="text-red-600 hover:text-red-800"
                    >
                      Remove
                    </button>
                  )}
                </div>

                <div className="space-y-6">
                  {/* Customer Name */}
                  <div>
                    <label className="monument text-sm block mb-2">CUSTOMER NAME <span className="text-red-500">*</span></label>
                    <input
                      type="text"
                      value={interview.customerName}
                      onChange={(e) => updateInterview(index, 'customerName', e.target.value)}
                      placeholder="Sarah Chen"
                      className="w-full"
                    />
                    <div className={`char-counter ${interview.customerName.length < 3 ? 'invalid' : ''}`}>
                      {interview.customerName.length}/100 (min 3 characters)
                    </div>
                  </div>

                  {/* Customer Profile */}
                  <div>
                    <label className="monument text-sm block mb-2">CUSTOMER PROFILE</label>
                    <input
                      type="text"
                      value={interview.customerProfile}
                      onChange={(e) => updateInterview(index, 'customerProfile', e.target.value)}
                      placeholder="VP Operations at TechFlow Inc. (120 employees, $25M ARR)"
                      className="w-full"
                    />
                  </div>

                  {/* Pains */}
                  <div>
                    <label className="monument text-sm block mb-2">PAINS (PROBLEMS THEY HAVE) <span className="text-red-500">*</span></label>
                    <textarea
                      value={interview.pains}
                      onChange={(e) => updateInterview(index, 'pains', e.target.value)}
                      placeholder="Spending 15 hours per week manually reconciling customer data across 3 systems. Last quarter lost $50K deal because couldn't deliver unified customer view fast enough. Team frustrated by repetitive data entry."
                      className="w-full"
                      rows={4}
                    />
                    <div className={`char-counter ${interview.pains.length < 50 ? 'invalid' : ''}`}>
                      {interview.pains.length}/1000 (min 50 characters)
                    </div>
                  </div>

                  {/* Needs */}
                  <div>
                    <label className="monument text-sm block mb-2">NEEDS (MUST-HAVES TO SOLVE IT) <span className="text-red-500">*</span></label>
                    <textarea
                      value={interview.needs}
                      onChange={(e) => updateInterview(index, 'needs', e.target.value)}
                      placeholder="Need real-time sync between Salesforce, Zendesk, and internal database. Must work with existing tech stack without major overhaul. Needs to reduce manual effort by 80%. Price point under $5K/month."
                      className="w-full"
                      rows={4}
                    />
                    <div className={`char-counter ${interview.needs.length < 50 ? 'invalid' : ''}`}>
                      {interview.needs.length}/1000 (min 50 characters)
                    </div>
                  </div>

                  {/* Gains */}
                  <div>
                    <label className="monument text-sm block mb-2">GAINS (DESIRED OUTCOMES)</label>
                    <textarea
                      value={interview.gains}
                      onChange={(e) => updateInterview(index, 'gains', e.target.value)}
                      placeholder="Free up operations team to focus on strategic work instead of data entry. Close deals 30% faster with instant customer intelligence. Improve customer satisfaction scores by providing better service."
                      className="w-full"
                      rows={3}
                    />
                  </div>

                  {/* Direct Quotes */}
                  <div>
                    <label className="monument text-sm block mb-2">MEMORABLE QUOTES</label>
                    <textarea
                      value={interview.quotes}
                      onChange={(e) => updateInterview(index, 'quotes', e.target.value)}
                      placeholder="&quot;We almost lost our biggest client last month because we couldn't answer a simple question about their purchase history. It took us 3 days to pull that data manually.&quot;"
                      className="w-full"
                      rows={3}
                    />
                  </div>

                  {/* Observations */}
                  <div>
                    <label className="monument text-sm block mb-2">OBSERVATIONS & NOTES</label>
                    <textarea
                      value={interview.observations}
                      onChange={(e) => updateInterview(index, 'observations', e.target.value)}
                      placeholder="Sarah seemed frustrated when talking about current process. Mentioned 3 team members have complained about it. Already tried 2 solutions that didn't work. Budget approved if we can show ROI."
                      className="w-full"
                      rows={3}
                    />
                  </div>
                </div>
              </div>
            ))}

            <button
              onClick={addInterview}
              className="btn-secondary w-full mb-12"
            >
              + Add Another Interview
            </button>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: PRIORITIZE INSIGHTS →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 3: Prioritization Matrix
    function Step3Page({ data, updateData, onNext, onBack, canProceed, setShowHelp, addPainPriority, removePainPriority, updatePainPriority, addNeedPriority, removeNeedPriority, updateNeedPriority, addGainPriority, removeGainPriority, updateGainPriority }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-6xl mx-auto">
            <ProgressIndicator currentStep={3} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">03. PRIORITIZATION MATRIX</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Rank pains, needs, and gains
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                "Not all customer problems are created equal. Focus on high-frequency, high-severity issues where your solution creates measurable impact."
              </p>
              <p className="text-lg text-gray-600 mt-2">— Strategic Prioritization Principle</p>
            </div>

            <p className="text-xl mb-8 text-gray-700">
              Rate each item on 1-10 scale. System auto-calculates priority score.
            </p>

            {/* Pains Priority */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <h4 className="riforma-bold text-3xl mb-6" style={{color: '#EF4444'}}>Customer Pains</h4>

              {data.painsPriority.map((pain, index) => (
                <div key={index} className="bg-red-50 border-2 border-red-200 p-6 mb-4">
                  <div className="flex justify-between items-start mb-4">
                    <span className="riforma-bold text-xl">Pain {index + 1}</span>
                    {data.painsPriority.length > 1 && (
                      <button onClick={() => removePainPriority(index)} className="text-red-600 hover:text-red-800 text-sm">
                        Remove
                      </button>
                    )}
                  </div>

                  <div className="grid grid-cols-1 gap-4">
                    <div>
                      <label className="monument text-xs block mb-2">PAIN DESCRIPTION <span className="text-red-500">*</span></label>
                      <input
                        type="text"
                        value={pain.pain}
                        onChange={(e) => updatePainPriority(index, 'pain', e.target.value)}
                        placeholder="Manual data entry takes 15 hours/week"
                        className="w-full"
                      />
                      <div className={`char-counter ${pain.pain.length < 10 ? 'invalid' : ''}`}>
                        {pain.pain.length}/200 (min 10)
                      </div>
                    </div>

                    <div className="grid grid-cols-4 gap-4">
                      <div>
                        <label className="monument text-xs block mb-2">SEVERITY (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={pain.severity}
                          onChange={(e) => updatePainPriority(index, 'severity', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">FREQUENCY (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={pain.frequency}
                          onChange={(e) => updatePainPriority(index, 'frequency', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">IMPACT (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={pain.impact}
                          onChange={(e) => updatePainPriority(index, 'impact', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">PRIORITY SCORE</label>
                        <div className="border-2 border-black bg-black text-white text-center py-3 text-2xl font-bold">
                          {pain.score || '—'}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ))}

              <button onClick={addPainPriority} className="btn-secondary w-full">
                + Add Another Pain
              </button>
            </div>

            {/* Needs Priority */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <h4 className="riforma-bold text-3xl mb-6" style={{color: '#F59E0B'}}>Customer Needs</h4>

              {data.needsPriority.map((need, index) => (
                <div key={index} className="bg-orange-50 border-2 border-orange-200 p-6 mb-4">
                  <div className="flex justify-between items-start mb-4">
                    <span className="riforma-bold text-xl">Need {index + 1}</span>
                    {data.needsPriority.length > 1 && (
                      <button onClick={() => removeNeedPriority(index)} className="text-orange-600 hover:text-orange-800 text-sm">
                        Remove
                      </button>
                    )}
                  </div>

                  <div className="grid grid-cols-1 gap-4">
                    <div>
                      <label className="monument text-xs block mb-2">NEED DESCRIPTION <span className="text-red-500">*</span></label>
                      <input
                        type="text"
                        value={need.need}
                        onChange={(e) => updateNeedPriority(index, 'need', e.target.value)}
                        placeholder="Real-time sync between Salesforce and Zendesk"
                        className="w-full"
                      />
                      <div className={`char-counter ${need.need.length < 10 ? 'invalid' : ''}`}>
                        {need.need.length}/200 (min 10)
                      </div>
                    </div>

                    <div className="grid grid-cols-4 gap-4">
                      <div>
                        <label className="monument text-xs block mb-2">SEVERITY (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={need.severity}
                          onChange={(e) => updateNeedPriority(index, 'severity', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">FREQUENCY (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={need.frequency}
                          onChange={(e) => updateNeedPriority(index, 'frequency', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">IMPACT (1-10) <span className="text-red-500">*</span></label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={need.impact}
                          onChange={(e) => updateNeedPriority(index, 'impact', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">PRIORITY SCORE</label>
                        <div className="border-2 border-black bg-black text-white text-center py-3 text-2xl font-bold">
                          {need.score || '—'}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ))}

              <button onClick={addNeedPriority} className="btn-secondary w-full">
                + Add Another Need
              </button>
            </div>

            {/* Gains Priority */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <h4 className="riforma-bold text-3xl mb-6" style={{color: '#10B981'}}>Customer Gains</h4>

              {data.gainsPriority.map((gain, index) => (
                <div key={index} className="bg-green-50 border-2 border-green-200 p-6 mb-4">
                  <div className="flex justify-between items-start mb-4">
                    <span className="riforma-bold text-xl">Gain {index + 1}</span>
                    {data.gainsPriority.length > 1 && (
                      <button onClick={() => removeGainPriority(index)} className="text-green-600 hover:text-green-800 text-sm">
                        Remove
                      </button>
                    )}
                  </div>

                  <div className="grid grid-cols-1 gap-4">
                    <div>
                      <label className="monument text-xs block mb-2">GAIN DESCRIPTION</label>
                      <input
                        type="text"
                        value={gain.gain}
                        onChange={(e) => updateGainPriority(index, 'gain', e.target.value)}
                        placeholder="Close deals 30% faster with instant customer intelligence"
                        className="w-full"
                      />
                    </div>

                    <div className="grid grid-cols-4 gap-4">
                      <div>
                        <label className="monument text-xs block mb-2">SEVERITY (1-10)</label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={gain.severity}
                          onChange={(e) => updateGainPriority(index, 'severity', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">FREQUENCY (1-10)</label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={gain.frequency}
                          onChange={(e) => updateGainPriority(index, 'frequency', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">IMPACT (1-10)</label>
                        <input
                          type="number"
                          min="1"
                          max="10"
                          value={gain.impact}
                          onChange={(e) => updateGainPriority(index, 'impact', e.target.value)}
                          className="w-full"
                        />
                      </div>
                      <div>
                        <label className="monument text-xs block mb-2">PRIORITY SCORE</label>
                        <div className="border-2 border-black bg-black text-white text-center py-3 text-2xl font-bold">
                          {gain.score || '—'}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ))}

              <button onClick={addGainPriority} className="btn-secondary w-full">
                + Add Another Gain
              </button>
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                NEXT: SYNTHESIZE INSIGHTS →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Step 4: Summary & Insights
    function Step4Page({ data, updateData, onNext, onBack, canProceed, setShowHelp }) {
      return (
        <div className="bg-white min-h-screen p-16 pb-32">
          <div className="max-w-5xl mx-auto">
            <ProgressIndicator currentStep={4} />
            <HelpButton onClick={() => setShowHelp(true)} />

            <div className="numbered-section mb-8 animate-in">04. SUMMARY & INSIGHTS</div>

            <h3 className="riforma-bold text-5xl mb-8 animate-in" style={{animationDelay: '0.05s'}}>
              Synthesize your findings
            </h3>

            <div className="border-l-4 border-yellow-400 pl-6 mb-12 animate-in" style={{animationDelay: '0.1s'}}>
              <p className="text-2xl italic">
                "Great strategy starts with understanding the problem deeply. Everything else follows from that clarity."
              </p>
              <p className="text-lg text-gray-600 mt-2">— Strategic Insight Principle</p>
            </div>

            {/* Top Pains Summary */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.15s'}}>
              <label className="monument text-sm block mb-3">TOP 3 PAINS (HIGHEST PRIORITY) <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">Based on your prioritization scores, what are the most critical customer pains?</p>
              <textarea
                value={data.topPains}
                onChange={(e) => updateData('topPains', e.target.value)}
                placeholder="1. Manual data reconciliation across systems (Score: 9.2) - Consumes 15+ hours weekly, causes deal delays, team frustration&#10;2. Inability to deliver unified customer view quickly (Score: 8.7) - Lost $50K deal last quarter due to slow response&#10;3. Repetitive data entry errors (Score: 8.3) - Creates customer service issues, damages reputation"
                className="w-full"
                rows={6}
              />
              <div className={`char-counter ${data.topPains.length < 50 ? 'invalid' : ''}`}>
                {data.topPains.length}/1000 (min 50 characters)
              </div>
            </div>

            {/* Top Needs Summary */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.2s'}}>
              <label className="monument text-sm block mb-3">TOP 3 NEEDS (HIGHEST PRIORITY) <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">What must-have solutions did customers describe?</p>
              <textarea
                value={data.topNeeds}
                onChange={(e) => updateData('topNeeds', e.target.value)}
                placeholder="1. Real-time data sync between systems (Score: 9.5) - Must work with existing Salesforce, Zendesk, internal DB&#10;2. Reduce manual effort by 80%+ (Score: 9.0) - Non-negotiable ROI requirement&#10;3. Price point under $5K/month (Score: 8.5) - Budget constraint across all 3 interviews"
                className="w-full"
                rows={6}
              />
              <div className={`char-counter ${data.topNeeds.length < 50 ? 'invalid' : ''}`}>
                {data.topNeeds.length}/1000 (min 50 characters)
              </div>
            </div>

            {/* Top Gains Summary */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.25s'}}>
              <label className="monument text-sm block mb-3">TOP 3 GAINS (DESIRED OUTCOMES)</label>
              <p className="text-base text-gray-600 mb-3">What positive outcomes are customers seeking?</p>
              <textarea
                value={data.topGains}
                onChange={(e) => updateData('topGains', e.target.value)}
                placeholder="1. Free operations team for strategic work - Currently spending 60% time on data entry&#10;2. Close deals 30% faster - Faster access to customer intelligence enables rapid response&#10;3. Improve customer satisfaction scores - Better service through accurate, instant data access"
                className="w-full"
                rows={5}
              />
            </div>

            {/* Key Insights */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.3s'}}>
              <label className="monument text-sm block mb-3">KEY INSIGHTS FROM INTERVIEWS <span className="text-red-500">*</span></label>
              <p className="text-base text-gray-600 mb-3">What patterns emerged? What surprised you? What did you learn about customer behavior?</p>
              <textarea
                value={data.keyInsights}
                onChange={(e) => updateData('keyInsights', e.target.value)}
                placeholder="All 3 customers mentioned trying 2+ solutions that failed - indicating high pain tolerance and willingness to experiment. Price sensitivity consistent at $5K/month threshold. Manual processes consuming 15-20 hours weekly per team. Recent deal losses creating urgency (2 of 3 mentioned). Existing workarounds being built internally but not sustainable. Budget already approved if ROI demonstrated."
                className="w-full"
                rows={6}
              />
              <div className={`char-counter ${data.keyInsights.length < 100 ? 'invalid' : ''}`}>
                {data.keyInsights.length}/1500 (min 100 characters)
              </div>
            </div>

            {/* Strategic Implications */}
            <div className="mb-12 animate-in" style={{animationDelay: '0.35s'}}>
              <label className="monument text-sm block mb-3">STRATEGIC IMPLICATIONS</label>
              <p className="text-base text-gray-600 mb-3">How should these insights shape your strategy, positioning, or product roadmap?</p>
              <textarea
                value={data.strategicImplications}
                onChange={(e) => updateData('strategicImplications', e.target.value)}
                placeholder="Position as 'proven solution' given previous failures in market. Emphasize seamless integration with existing tech stack. Lead with time savings (15+ hours/week) and deal velocity (30% faster). Price at $4,995/month to stay under psychological threshold. Include ROI calculator in sales process. Target customers who've lost deals due to slow data access."
                className="w-full"
                rows={6}
              />
            </div>

            {/* Navigation */}
            <div className="flex gap-6">
              <button onClick={onBack} className="btn-secondary flex-1">
                ← BACK
              </button>
              <button
                onClick={onNext}
                disabled={!canProceed}
                className="btn-primary flex-1"
              >
                VIEW COMPLETE SUMMARY →
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Canvas Page Component
    function CanvasPage({ data, onBack, onExport, onSubmit }) {
      return (
        <div className="bg-white min-h-screen p-16">
          <div className="max-w-6xl mx-auto">
            <h1 className="plaak text-6xl mb-12 text-center animate-in">YOUR TARGET SEGMENT DEEP DIVE</h1>

            <div id="canvas-content" className="border-8 border-black p-12 mb-12">
              {/* Header */}
              <div className="text-center mb-12">
                <img src="FastTrack_F_White.png" alt="Fast Track" className="h-16 mx-auto mb-4 invert" />
                <h2 className="plaak text-4xl mb-2">TARGET SEGMENT DEEP DIVE</h2>
                <p className="text-xl text-gray-600">Sprint 14: Pains, Needs, Gains Analysis</p>
                <p className="text-lg text-gray-600 mt-2">{data.name} • {data.company}</p>
              </div>

              {/* Target Segment */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Target Segment</h3>
                <p className="text-xl leading-relaxed whitespace-pre-line">{data.targetSegment}</p>
              </div>

              {/* Interview Objective */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Interview Objective</h3>
                <p className="text-xl leading-relaxed whitespace-pre-line">{data.interviewObjective}</p>
              </div>

              {/* Interview Questions */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Mom Test Questions ({data.interviewQuestions.length})</h3>
                <div className="space-y-4">
                  {data.interviewQuestions.map((q, i) => (
                    <div key={i} className="bg-gray-100 p-4">
                      <p className="monument text-xs text-gray-600 mb-1">{q.category}</p>
                      <p className="text-lg">{q.question}</p>
                    </div>
                  ))}
                </div>
              </div>

              {/* Interviews Summary */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Customer Interviews ({data.interviews.length})</h3>
                {data.interviews.map((interview, i) => (
                  <div key={i} className="mb-6 pb-6 border-b border-gray-300 last:border-0">
                    <h4 className="riforma-bold text-2xl mb-3">Interview {i + 1}: {interview.customerName}</h4>
                    {interview.customerProfile && (
                      <p className="text-base text-gray-600 mb-3">{interview.customerProfile}</p>
                    )}
                    <div className="grid grid-cols-3 gap-4 mb-3">
                      <div className="bg-red-50 p-3">
                        <p className="monument text-xs mb-2 text-red-800">PAINS</p>
                        <p className="text-sm">{interview.pains.substring(0, 150)}{interview.pains.length > 150 ? '...' : ''}</p>
                      </div>
                      <div className="bg-orange-50 p-3">
                        <p className="monument text-xs mb-2 text-orange-800">NEEDS</p>
                        <p className="text-sm">{interview.needs.substring(0, 150)}{interview.needs.length > 150 ? '...' : ''}</p>
                      </div>
                      <div className="bg-green-50 p-3">
                        <p className="monument text-xs mb-2 text-green-800">GAINS</p>
                        <p className="text-sm">{interview.gains ? interview.gains.substring(0, 150) : 'Not specified'}{interview.gains && interview.gains.length > 150 ? '...' : ''}</p>
                      </div>
                    </div>
                    {interview.quotes && (
                      <div className="border-l-4 border-yellow-400 pl-4 italic text-base">
                        "{interview.quotes}"
                      </div>
                    )}
                  </div>
                ))}
              </div>

              {/* Top Priorities */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Priority Insights</h3>

                <div className="mb-6">
                  <h4 className="riforma-bold text-xl mb-3 text-red-600">Top Pains</h4>
                  <p className="text-lg leading-relaxed whitespace-pre-line">{data.topPains}</p>
                </div>

                <div className="mb-6">
                  <h4 className="riforma-bold text-xl mb-3 text-orange-600">Top Needs</h4>
                  <p className="text-lg leading-relaxed whitespace-pre-line">{data.topNeeds}</p>
                </div>

                {data.topGains && (
                  <div className="mb-6">
                    <h4 className="riforma-bold text-xl mb-3 text-green-600">Top Gains</h4>
                    <p className="text-lg leading-relaxed whitespace-pre-line">{data.topGains}</p>
                  </div>
                )}
              </div>

              {/* Key Insights */}
              <div className="mb-10">
                <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Key Insights</h3>
                <p className="text-lg leading-relaxed whitespace-pre-line">{data.keyInsights}</p>
              </div>

              {/* Strategic Implications */}
              {data.strategicImplications && (
                <div className="mb-10">
                  <h3 className="riforma-bold text-3xl mb-4 border-b-2 border-black pb-2">Strategic Implications</h3>
                  <p className="text-lg leading-relaxed whitespace-pre-line">{data.strategicImplications}</p>
                </div>
              )}

              <div className="text-center text-sm text-gray-500 mt-12 pt-6 border-t border-gray-300">
                Generated on {new Date().toLocaleDateString()} • Fast Track Program Sprint 14
              </div>
            </div>

            {/* Action Buttons */}
            <div className="grid grid-cols-3 gap-6 mb-8 no-print">
              <button onClick={onBack} className="btn-secondary text-xl py-6">
                ← EDIT
              </button>
              <button onClick={onExport} className="btn-primary text-xl py-6">
                EXPORT PDF
              </button>
              <button onClick={onSubmit} className="btn-primary text-xl py-6">
                SUBMIT
              </button>
            </div>
          </div>
        </div>
      );
    }

    // Help Modal Component
    function HelpModal({ onClose, stepNumber }) {
      const helpContent = {
        1: {
          title: "INTERVIEW PREPARATION",
          why: "Without proper preparation, you'll waste interview time on wrong questions and get useless compliments instead of actionable insights. The Mom Test prevents false validation.",
          what: "Create interview questions that focus on past behaviors, not future intentions. Ask about what customers actually did, not what they might do.",
          how: [
            "Define your exact target segment - be specific about company size, industry, revenue",
            "Set a clear learning objective - what do you need to validate?",
            "Write questions about PAST behavior: 'Tell me about the last time...'",
            "Avoid hypotheticals: Never ask 'Would you buy this?' or 'Do you like this idea?'",
            "Focus on their life, not your idea - understand their current reality first"
          ]
        },
        2: {
          title: "CUSTOMER INTERVIEWS",
          why: "Customers don't know what they want, but they know what problems they have. Your job is to uncover the real pains, needs, and gains through evidence-based questioning.",
          what: "Conduct 2-3 customer interviews documenting specific pains (problems), needs (must-haves), and gains (desired outcomes). Focus on concrete examples with dates, numbers, and names.",
          how: [
            "Start with open-ended questions about their current situation",
            "Dig deeper with 'Why?' to understand root causes",
            "Ask for specifics: When did this happen? How much did it cost? How long did it take?",
            "Capture exact quotes - they're valuable for messaging and validation",
            "Note pains (what hurts), needs (what's required), gains (what they want to achieve)",
            "Stay silent after asking - let them think and elaborate"
          ]
        },
        3: {
          title: "PRIORITIZATION MATRIX",
          why: "Not all customer problems are worth solving. Focus on high-frequency, high-severity issues where your solution creates the most impact and value.",
          what: "Rank each pain, need, and gain on severity (how bad), frequency (how often), and impact (how much it affects business). System calculates priority score automatically.",
          how: [
            "Severity (1-10): How painful/critical is this issue?",
            "Frequency (1-10): How often does this occur?",
            "Impact (1-10): What's the business impact (time, money, deals lost)?",
            "Review auto-calculated scores to identify highest-priority items",
            "Focus your strategy on top 3-5 items in each category"
          ]
        },
        4: {
          title: "SUMMARY & INSIGHTS",
          why: "Raw interview data is useless without synthesis. Strategic implications emerge when you connect patterns across multiple interviews and identify what truly matters.",
          what: "Synthesize your findings into clear top priorities and strategic recommendations. Identify patterns, surprises, and what these insights mean for your strategy.",
          how: [
            "List top 3 pains/needs/gains based on priority scores",
            "Look for patterns across multiple interviews",
            "Note what surprised you - those are often key insights",
            "Identify strategic implications: How should this shape your positioning?",
            "Consider: What should you build? How should you message? Who should you target?",
            "Focus on evidence-based conclusions, not assumptions"
          ]
        }
      };

      const content = helpContent[stepNumber];

      return (
        <div
          className="fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-8 fade-in"
          onClick={onClose}
        >
          <div
            className="bg-white max-w-4xl max-h-[90vh] overflow-y-auto p-12 border-8 border-black"
            onClick={(e) => e.stopPropagation()}
          >
            <h2 className="plaak text-5xl mb-8">{content.title}</h2>

            <div className="mb-8">
              <h3 className="riforma-bold text-2xl mb-3">WHY THIS MATTERS</h3>
              <p className="text-xl leading-relaxed">{content.why}</p>
            </div>

            <div className="mb-8">
              <h3 className="riforma-bold text-2xl mb-3">WHAT TO DO</h3>
              <p className="text-xl leading-relaxed">{content.what}</p>
            </div>

            <div className="mb-12">
              <h3 className="riforma-bold text-2xl mb-3">HOW TO DO IT</h3>
              <ul className="space-y-3">
                {content.how.map((item, index) => (
                  <li key={index} className="flex items-start text-lg">
                    <span className="text-2xl mr-3">•</span>
                    <span>{item}</span>
                  </li>
                ))}
              </ul>
            </div>

            <button onClick={onClose} className="btn-primary w-full text-2xl py-4">
              GOT IT
            </button>
          </div>
        </div>
      );
    }

    // Progress Indicator Component
    function ProgressIndicator({ currentStep }) {
      const steps = [
        { number: 1, label: 'Prepare' },
        { number: 2, label: 'Interview' },
        { number: 3, label: 'Prioritize' },
        { number: 4, label: 'Synthesize' }
      ];

      return (
        <div className="flex items-center justify-center mb-12 animate-in">
          {steps.map((step, index) => (
            <Fragment key={step.number}>
              <div className="flex flex-col items-center">
                <div
                  className={`progress-dot mb-2 ${
                    step.number === currentStep
                      ? 'active'
                      : step.number < currentStep
                      ? 'completed'
                      : ''
                  }`}
                ></div>
                <span
                  className={`monument text-xs ${
                    step.number <= currentStep ? 'text-black' : 'text-gray-400'
                  }`}
                >
                  {step.label}
                </span>
              </div>
              {index < steps.length - 1 && (
                <div className="progress-line mx-4" style={{ width: '80px' }}></div>
              )}
            </Fragment>
          ))}
        </div>
      );
    }

    // Help Button Component
    function HelpButton({ onClick }) {
      return (
        <button
          onClick={onClick}
          className="help-button no-print"
          aria-label="Help"
        >
          ?
        </button>
      );
    }

    // Render App
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<DeepDiveApp />);
  </script>
</body>
</html>